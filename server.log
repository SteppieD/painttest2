
> painting-quote-app-replit@1.0.0 dev
> next dev --hostname 0.0.0.0 --port 3001

  ▲ Next.js 14.2.29
  - Local:        http://localhost:3001
  - Network:      http://0.0.0.0:3001
  - Environments: .env.local

 ✓ Starting...
 ✓ Ready in 899ms
 ✓ Compiled /middleware in 240ms (72 modules)
 ○ Compiling / ...
 ✓ Compiled / in 2.6s (635 modules)
 HEAD / 200 in 2810ms
 ✓ Compiled in 371ms (308 modules)
 ✓ Compiled /api/unified-quote in 223ms (351 modules)
🔍 PARSING INPUT: It's for Cici at 9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting doors, or trim or windows. No primer. labour is included in the cost per square foot at $1.50.
👤 Customer Info: { customer_name: 'Cici', address: '9090 Hillside Drive' }
🏠 Project Type: interior
📏 Dimensions: { wall_linear_feet: 500, ceiling_height: 9 }
💰 Markup Percentage: 0
🎨 Paint Info: {
  brand: undefined,
  product: ' Eggshell',
  cost_per_gallon: 50,
  spread_rate: 350
}
👷 Labor Rate: 1.5
🏗️ Surfaces: {
  walls: true,
  ceilings: false,
  trim: false,
  doors: false,
  windows: false
}
📋 Special Requests: [ 'No primer required' ]
🏗️ Final Dimensions: {
  wall_linear_feet: 500,
  ceiling_height: 9,
  ceiling_area: 0,
  number_of_doors: 0,
  number_of_windows: 0,
  floor_area: undefined
}
🎨 Selected Products: {
  primer: { spread_rate: 400, cost: 0 },
  wall_paint: { spread_rate: 350, cost_per_gallon: 50 },
  ceiling_paint: { spread_rate: 350, cost_per_gallon: 0 },
  trim_paint: {
    doors_per_gallon: 4.5,
    windows_per_gallon: 2.5,
    cost_per_gallon: 0
  }
}
Quote calculation error: ReferenceError: userInput is not defined
    at UnifiedQuoteAssistant.generateQuoteFromParsedData (webpack-internal:///(rsc)/./lib/unified-quote-assistant.ts:203:119)
    at UnifiedQuoteAssistant.processUserInput (webpack-internal:///(rsc)/./lib/unified-quote-assistant.ts:320:48)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async POST (webpack-internal:///(rsc)/./app/api/unified-quote/route.ts:20:24)
    at async /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57228
    at async eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46851)
    at async eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58760)
    at async doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:28)
    at async DevServer.renderPageComponent (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1924:24)
    at async DevServer.renderToResponseImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1962:32)
    at async DevServer.pipeImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:922:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/sepg/painttest2/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:818:17)
    at async /Users/sepg/painttest2/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/sepg/painttest2/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/sepg/painttest2/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/sepg/painttest2/node_modules/next/dist/server/lib/router-server.js:178:21)
    at async handleRequest (/Users/sepg/painttest2/node_modules/next/dist/server/lib/router-server.js:355:24)
    at async requestHandlerImpl (/Users/sepg/painttest2/node_modules/next/dist/server/lib/router-server.js:379:13)
    at async Server.requestListener (/Users/sepg/painttest2/node_modules/next/dist/server/lib/start-server.js:141:13)
 POST /api/unified-quote 200 in 288ms
 ✓ Compiled in 32ms (59 modules)
 ✓ Compiled in 29ms (59 modules)
🔍 PARSING INPUT: It's for Cici at 9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting doors, or trim or windows. No primer. labour is included in the cost per square foot at $1.50.
👤 Customer Info: { customer_name: 'Cici', address: '9090 Hillside Drive' }
🏠 Project Type: interior
📏 Dimensions: { wall_linear_feet: 500, ceiling_height: 9 }
💰 Markup Percentage: 0
🎨 Paint Info: {
  brand: undefined,
  product: ' Eggshell',
  cost_per_gallon: 50,
  spread_rate: 350
}
👷 Labor Rate: 1.5
🏗️ Surfaces: {
  walls: true,
  ceilings: false,
  trim: false,
  doors: false,
  windows: false
}
📋 Special Requests: [ 'No primer required' ]
🏗️ Final Dimensions: {
  wall_linear_feet: 500,
  ceiling_height: 9,
  ceiling_area: 0,
  number_of_doors: 0,
  number_of_windows: 0,
  floor_area: undefined
}
🎨 Selected Products: {
  primer: { spread_rate: 400, cost: 0 },
  wall_paint: { spread_rate: 350, cost_per_gallon: 50 },
  ceiling_paint: { spread_rate: 350, cost_per_gallon: 0 },
  trim_paint: {
    doors_per_gallon: 4.5,
    windows_per_gallon: 2.5,
    cost_per_gallon: 0
  }
}
🔧 Labor Included? true
🔧 Parsed Labor Rate: 1.5
🧮 Wall Sqft: 4500
🧮 Total Cost (labor included): 6750
📊 Labor-Included Quote Result: {
  project_info: {
    wall_linear_feet: 500,
    ceiling_height: 9,
    ceiling_area: 0,
    number_of_doors: 0,
    number_of_windows: 0,
    floor_area: undefined
  },
  materials: {
    total_material_cost: 0,
    walls: { cost: 0, sqft_needed: 4500, gallons_needed: 0 },
    ceilings: { cost: 0, sqft_needed: 0, gallons_needed: 0 },
    trim_doors_windows: { cost: 0, doors_count: 0, windows_count: 0, gallons_needed: 0 },
    primer: { cost: 0, sqft_needed: 0, gallons_needed: 0 }
  },
  labor: {
    total_labor: 0,
    wall_labor: 0,
    ceiling_labor: 0,
    door_labor: 0,
    window_labor: 0,
    primer_labor: 0
  },
  overhead: 0,
  total_cost: 6750,
  markup_percentage: 0,
  markup_amount: 0,
  final_price: 6750,
  profit_margin: 0,
  breakdown_summary: 'All-inclusive rate: $1.5/sqft × 4500 sqft = $6,750'
}
 POST /api/unified-quote 200 in 30ms
 ✓ Compiled /create-quote in 244ms (604 modules)
 GET /create-quote 200 in 334ms
 ✓ Compiled /access-code in 181ms (613 modules)
 GET /icon-192x192.png 404 in 244ms
 GET /manifest.json 404 in 241ms
 GET /manifest.json 404 in 13ms
 ✓ Compiled /api/verify-code in 300ms (406 modules)
Supabase environment variables not found, adapter will be initialized later
Access code verification error: TypeError: Cannot read properties of undefined (reading 'from')
    at SupabaseDatabaseAdapter.getCompanyByAccessCode (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:129:53)
    at Object.getCompanyByAccessCode (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:299:65)
    at POST (webpack-internal:///(rsc)/./app/api/verify-code/route.ts:40:42)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57228
    at async eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46851)
    at async eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58760)
    at async doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:28)
    at async DevServer.renderPageComponent (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1924:24)
    at async DevServer.renderToResponseImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1962:32)
    at async DevServer.pipeImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:922:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/sepg/painttest2/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:818:17)
    at async /Users/sepg/painttest2/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/sepg/painttest2/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/sepg/painttest2/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/sepg/painttest2/node_modules/next/dist/server/lib/router-server.js:178:21)
    at async handleRequest (/Users/sepg/painttest2/node_modules/next/dist/server/lib/router-server.js:355:24)
    at async requestHandlerImpl (/Users/sepg/painttest2/node_modules/next/dist/server/lib/router-server.js:379:13)
    at async Server.requestListener (/Users/sepg/painttest2/node_modules/next/dist/server/lib/start-server.js:141:13)
 POST /api/verify-code 500 in 362ms
 ✓ Compiled in 314ms (726 modules)
 ✓ Compiled in 233ms (726 modules)
 ✓ Compiled in 223ms (726 modules)
 ✓ Compiled in 227ms (726 modules)
✅ Valid access code: DEMO2024 for Demo Company
 POST /api/verify-code 200 in 46ms
✅ Valid access code: DEMO2024 for Demo Company
 POST /api/verify-code 200 in 14ms
 ✓ Compiled /api/companies/preferences in 148ms (388 modules)
Supabase environment variables not found, adapter will be initialized later
Error fetching company preferences: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:256:19)
    at Object.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:310:63)
    at GET (webpack-internal:///(rsc)/./app/api/companies/preferences/route.ts:48:106)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/companies/preferences?companyId=1 500 in 170ms
 ✓ Compiled /setup in 435ms (821 modules)
 ✓ Compiled /_not-found in 77ms (824 modules)
 GET /manifest.json 404 in 151ms
 GET /api/verify-code 200 in 12ms
 ✓ Compiled /api/paint-products in 110ms (457 modules)
Supabase environment variables not found, adapter will be initialized later
Error saving paint products: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.savePaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:176:19)
    at Object.savePaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:305:69)
    at POST (webpack-internal:///(rsc)/./app/api/paint-products/route.ts:21:86)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57228
    at async eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46851)
    at async eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58760)
    at async doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:28)
    at async DevServer.renderPageComponent (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1924:24)
    at async DevServer.renderToResponseImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1962:32)
    at async DevServer.pipeImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:922:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/sepg/painttest2/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:818:17)
    at async /Users/sepg/painttest2/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/sepg/painttest2/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/sepg/painttest2/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/sepg/painttest2/node_modules/next/dist/server/lib/router-server.js:178:21)
    at async handleRequest (/Users/sepg/painttest2/node_modules/next/dist/server/lib/router-server.js:355:24)
    at async requestHandlerImpl (/Users/sepg/painttest2/node_modules/next/dist/server/lib/router-server.js:379:13)
    at async Server.requestListener (/Users/sepg/painttest2/node_modules/next/dist/server/lib/start-server.js:141:13)
 POST /api/paint-products 500 in 154ms
Error saving company preferences: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.saveCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:266:19)
    at Object.saveCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:311:77)
    at POST (webpack-internal:///(rsc)/./app/api/companies/preferences/route.ts:21:86)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57228
    at async eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46851)
    at async eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58760)
    at async doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:28)
    at async DevServer.renderPageComponent (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1924:24)
    at async DevServer.renderToResponseImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1962:32)
    at async DevServer.pipeImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:922:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/sepg/painttest2/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:818:17)
    at async /Users/sepg/painttest2/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/sepg/painttest2/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/sepg/painttest2/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/sepg/painttest2/node_modules/next/dist/server/lib/router-server.js:178:21)
    at async handleRequest (/Users/sepg/painttest2/node_modules/next/dist/server/lib/router-server.js:355:24)
    at async requestHandlerImpl (/Users/sepg/painttest2/node_modules/next/dist/server/lib/router-server.js:379:13)
    at async Server.requestListener (/Users/sepg/painttest2/node_modules/next/dist/server/lib/start-server.js:141:13)
 POST /api/companies/preferences 500 in 13ms
 ✓ Compiled /dashboard in 219ms (849 modules)
 ✓ Compiled /api/company-quota in 90ms (479 modules)
 ✓ Compiled (481 modules)
Supabase environment variables not found, adapter will be initialized later
Error fetching company preferences: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:256:19)
    at Object.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:310:63)
    at GET (webpack-internal:///(rsc)/./app/api/companies/preferences/route.ts:48:106)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/companies/preferences?companyId=1 500 in 176ms
No database configured - using mock data for development
Database initialized with simplified adapter
Initializing simplified database adapter...
Starting simplified schema initialization...
✓ Schema initialization completed (using simplified adapter)
Database initialized successfully
dbAll called - using mock data for deployment
Error fetching quotes: TypeError: quotes.map is not a function
    at GET (webpack-internal:///(rsc)/./app/api/quotes/route.ts:193:37)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/quotes?company_id=1 500 in 192ms
dbGet called - using mock data for deployment
 GET /api/company-quota?company_id=1 200 in 194ms
Error fetching company preferences: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:256:19)
    at Object.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:310:63)
    at GET (webpack-internal:///(rsc)/./app/api/companies/preferences/route.ts:48:106)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/companies/preferences?companyId=1 500 in 40ms
Error fetching paint products: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:166:19)
    at Object.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:304:58)
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/route.ts:45:103)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products?companyId=1 500 in 43ms
dbAll called - using mock data for deployment
Error fetching quotes: TypeError: quotes.map is not a function
    at GET (webpack-internal:///(rsc)/./app/api/quotes/route.ts:193:37)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/quotes?company_id=1 500 in 71ms
dbGet called - using mock data for deployment
 GET /api/company-quota?company_id=1 200 in 73ms
 GET /manifest.json 404 in 61ms
Error fetching paint products: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:166:19)
    at Object.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:304:58)
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/route.ts:45:103)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products?companyId=1 500 in 54ms
 ✓ Compiled /create-quote in 83ms (493 modules)
 ✓ Compiled /api/paint-products/brands in 215ms (875 modules)
Supabase environment variables not found, adapter will be initialized later
Error fetching paint products: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:166:19)
    at Object.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:304:58)
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/route.ts:45:103)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
Error fetching company preferences: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:256:19)
    at Object.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:310:63)
    at GET (webpack-internal:///(rsc)/./app/api/companies/preferences/route.ts:48:106)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products?companyId=1 500 in 239ms
 GET /api/companies/preferences?companyId=1 500 in 239ms
No database configured - using mock data for development
Database initialized with simplified adapter
 GET /api/companies/settings?companyId=1 200 in 263ms
dbAll called - using mock data for deployment
Error fetching paint products by brand: TypeError: products.forEach is not a function
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/brands/route.ts:40:18)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products/brands?companyId=1 500 in 266ms
 GET /manifest.json 404 in 252ms
 ✓ Compiled /api/unified-quote in 89ms (502 modules)
🔍 PARSING INPUT: It’s for Cici at 9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.
👤 Customer Info: {
  customer_name: 'It’s for Cici',
  address: '9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.'
}
🏠 Project Type: interior
📏 Dimensions: { wall_linear_feet: 500, ceiling_height: 9 }
💰 Markup Percentage: 0
🎨 Paint Info: {
  brand: undefined,
  product: ' Eggshell',
  cost_per_gallon: 50,
  spread_rate: 350
}
👷 Labor Rate: 1.5
🏗️ Surfaces: {
  walls: true,
  ceilings: false,
  trim: false,
  doors: false,
  windows: false
}
📋 Special Requests: [ 'No primer required' ]
🏗️ Final Dimensions: {
  wall_linear_feet: 500,
  ceiling_height: 9,
  ceiling_area: 0,
  number_of_doors: 0,
  number_of_windows: 0,
  floor_area: undefined
}
🎨 Selected Products: {
  primer: { spread_rate: 400, cost: 0 },
  wall_paint: { spread_rate: 350, cost_per_gallon: 50 },
  ceiling_paint: { spread_rate: 350, cost_per_gallon: 0 },
  trim_paint: {
    doors_per_gallon: 4.5,
    windows_per_gallon: 2.5,
    cost_per_gallon: 0
  }
}
🔧 Labor Included? true
🔧 Parsed Labor Rate: 1.5
🧮 Wall Sqft: 4500
🧮 Total Cost (labor included): 6750
📊 Labor-Included Quote Result: {
  project_info: {
    wall_linear_feet: 500,
    ceiling_height: 9,
    ceiling_area: 0,
    number_of_doors: 0,
    number_of_windows: 0,
    floor_area: undefined
  },
  materials: {
    total_material_cost: 0,
    walls: { cost: 0, sqft_needed: 4500, gallons_needed: 0 },
    ceilings: { cost: 0, sqft_needed: 0, gallons_needed: 0 },
    trim_doors_windows: { cost: 0, doors_count: 0, windows_count: 0, gallons_needed: 0 },
    primer: { cost: 0, sqft_needed: 0, gallons_needed: 0 }
  },
  labor: {
    total_labor: 0,
    wall_labor: 0,
    ceiling_labor: 0,
    door_labor: 0,
    window_labor: 0,
    primer_labor: 0
  },
  overhead: 0,
  total_cost: 6750,
  markup_percentage: 0,
  markup_amount: 0,
  final_price: 6750,
  profit_margin: 0,
  breakdown_summary: 'All-inclusive rate: $1.5/sqft × 4500 sqft = $6,750'
}
 POST /api/unified-quote 200 in 130ms
🔍 PARSING INPUT: yes
👤 Customer Info: { customer_name: 'yes', address: '' }
🏠 Project Type: interior
📏 Dimensions: {}
💰 Markup Percentage: 0
🎨 Paint Info: {
  brand: undefined,
  product: undefined,
  cost_per_gallon: undefined,
  spread_rate: undefined
}
👷 Labor Rate: undefined
🏗️ Surfaces: { walls: true, ceilings: true, trim: true, doors: true, windows: true }
📋 Special Requests: []
 POST /api/unified-quote 200 in 36ms
 ✓ Compiled in 137ms (332 modules)
 ✓ Compiled /api/companies/preferences in 226ms (470 modules)
 ✓ Compiled (474 modules)
No database configured - using mock data for development
Database initialized with simplified adapter
dbGet called - using mock data for deployment
 GET /api/company-quota?company_id=1 200 in 358ms
Supabase environment variables not found, adapter will be initialized later
Error fetching company preferences: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:256:19)
    at Object.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:310:63)
    at GET (webpack-internal:///(rsc)/./app/api/companies/preferences/route.ts:48:106)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/companies/preferences?companyId=1 500 in 361ms
Initializing simplified database adapter...
Starting simplified schema initialization...
✓ Schema initialization completed (using simplified adapter)
Database initialized successfully
dbAll called - using mock data for deployment
Error fetching quotes: TypeError: quotes.map is not a function
    at GET (webpack-internal:///(rsc)/./app/api/quotes/route.ts:193:37)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/quotes?company_id=1 500 in 375ms
dbGet called - using mock data for deployment
 GET /api/company-quota?company_id=1 200 in 31ms
 ✓ Compiled /_not-found in 288ms (855 modules)
No database configured - using mock data for development
Database initialized with simplified adapter
Initializing simplified database adapter...
Starting simplified schema initialization...
✓ Schema initialization completed (using simplified adapter)
Database initialized successfully
Supabase environment variables not found, adapter will be initialized later
dbAll called - using mock data for deployment
Error fetching quotes: TypeError: quotes.map is not a function
    at GET (webpack-internal:///(rsc)/./app/api/quotes/route.ts:193:37)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
Error fetching company preferences: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:256:19)
    at Object.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:310:63)
    at GET (webpack-internal:///(rsc)/./app/api/companies/preferences/route.ts:48:106)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/quotes?company_id=1 500 in 334ms
 GET /api/companies/preferences?companyId=1 500 in 334ms
Error fetching paint products: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:166:19)
    at Object.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:304:58)
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/route.ts:45:103)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products?companyId=1 500 in 390ms
 GET /manifest.json 404 in 368ms
Error fetching paint products: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:166:19)
    at Object.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:304:58)
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/route.ts:45:103)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products?companyId=1 500 in 11ms
 ✓ Compiled /api/paint-products/brands in 165ms (859 modules)
Supabase environment variables not found, adapter will be initialized later
Error fetching paint products: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:166:19)
    at Object.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:304:58)
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/route.ts:45:103)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
Error fetching company preferences: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:256:19)
    at Object.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:310:63)
    at GET (webpack-internal:///(rsc)/./app/api/companies/preferences/route.ts:48:106)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products?companyId=1 500 in 188ms
 GET /api/companies/preferences?companyId=1 500 in 188ms
No database configured - using mock data for development
Database initialized with simplified adapter
 GET /api/companies/settings?companyId=1 200 in 201ms
dbAll called - using mock data for deployment
Error fetching paint products by brand: TypeError: products.forEach is not a function
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/brands/route.ts:40:18)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products/brands?companyId=1 500 in 204ms
 GET /manifest.json 404 in 220ms
 ✓ Compiled /api/unified-quote in 129ms (488 modules)
💭 Conversation State: undefined
🗣️ User Input: It’s for Cici at 9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.
🔍 PARSING INPUT: It’s for Cici at 9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.
👤 Customer Info: {
  customer_name: 'It’s for Cici',
  address: '9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.'
}
🏠 Project Type: interior
📏 Dimensions: { wall_linear_feet: 500, ceiling_height: 9 }
💰 Markup Percentage: 0
🎨 Paint Info: {
  brand: undefined,
  product: ' Eggshell',
  cost_per_gallon: 50,
  spread_rate: 350
}
👷 Labor Rate: 1.5
🏗️ Surfaces: {
  walls: true,
  ceilings: false,
  trim: false,
  doors: false,
  windows: false
}
📋 Special Requests: [ 'No primer required' ]
🏗️ Final Dimensions: {
  wall_linear_feet: 500,
  ceiling_height: 9,
  ceiling_area: 0,
  number_of_doors: 0,
  number_of_windows: 0,
  floor_area: undefined
}
🎨 Selected Products: {
  primer: { spread_rate: 400, cost: 0 },
  wall_paint: { spread_rate: 350, cost_per_gallon: 50 },
  ceiling_paint: { spread_rate: 350, cost_per_gallon: 0 },
  trim_paint: {
    doors_per_gallon: 4.5,
    windows_per_gallon: 2.5,
    cost_per_gallon: 0
  }
}
🔧 Labor Included? true
🔧 Parsed Labor Rate: 1.5
🧮 Wall Sqft: 4500
🧮 Total Cost (labor included): 6750
📊 Labor-Included Quote Result: {
  project_info: {
    wall_linear_feet: 500,
    ceiling_height: 9,
    ceiling_area: 0,
    number_of_doors: 0,
    number_of_windows: 0,
    floor_area: undefined
  },
  materials: {
    total_material_cost: 0,
    walls: { cost: 0, sqft_needed: 4500, gallons_needed: 0 },
    ceilings: { cost: 0, sqft_needed: 0, gallons_needed: 0 },
    trim_doors_windows: { cost: 0, doors_count: 0, windows_count: 0, gallons_needed: 0 },
    primer: { cost: 0, sqft_needed: 0, gallons_needed: 0 }
  },
  labor: {
    total_labor: 0,
    wall_labor: 0,
    ceiling_labor: 0,
    door_labor: 0,
    window_labor: 0,
    primer_labor: 0
  },
  overhead: 0,
  total_cost: 6750,
  markup_percentage: 0,
  markup_amount: 0,
  final_price: 6750,
  profit_margin: 0,
  breakdown_summary: 'All-inclusive rate: $1.5/sqft × 4500 sqft = $6,750'
}
💾 Saved quote to conversation state, awaiting confirmation
 POST /api/unified-quote 200 in 174ms
💭 Conversation State: {
  stage: 'awaiting_confirmation',
  timestamp: 1750880973043,
  lastQuote: {
    project_info: {
      wall_linear_feet: 500,
      ceiling_height: 9,
      ceiling_area: 0,
      number_of_doors: 0,
      number_of_windows: 0,
      floor_area: undefined
    },
    materials: {
      total_material_cost: 0,
      walls: [Object],
      ceilings: [Object],
      trim_doors_windows: [Object],
      primer: [Object]
    },
    labor: {
      total_labor: 0,
      wall_labor: 0,
      ceiling_labor: 0,
      door_labor: 0,
      window_labor: 0,
      primer_labor: 0
    },
    overhead: 0,
    total_cost: 6750,
    markup_percentage: 0,
    markup_amount: 0,
    final_price: 6750,
    profit_margin: 0,
    breakdown_summary: 'All-inclusive rate: $1.5/sqft × 4500 sqft = $6,750'
  },
  lastQuoteSummary: "Perfect! Here's your quote for It’s for Cici at 9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.:\n" +
    '\n' +
    '**Project Details:**\n' +
    '• 500 linear feet of interior walls\n' +
    '• 9 foot ceiling height  \n' +
    '• Quality paint  Eggshell at $50/gallon\n' +
    '• NOT including ceilings\n' +
    '• NOT including doors and trim\n' +
    '• Labor included in per-sqft rate\n' +
    '\n' +
    '**All-Inclusive Quote:**\n' +
    '• Wall Area: 4,500 sqft\n' +
    '• Rate: $1.5/sqft (materials + labor included)\n' +
    '• Total Project Cost: $6,750\n' +
    '\n' +
    '\n' +
    'Ready to save this quote?',
  customerInfo: {
    customer_name: 'It’s for Cici',
    address: '9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.'
  }
}
🗣️ User Input: yes
✅ User confirmed quote saving
💾 Saving quote to database: { customer: 'It’s for Cici', amount: 6750, company_id: 1 }
✅ Quote saved successfully with ID: 1750880978479
 POST /api/unified-quote 200 in 40ms
 ✓ Compiled /dashboard in 108ms (502 modules)
No database configured - using mock data for development
Database initialized with simplified adapter
Initializing simplified database adapter...
Starting simplified schema initialization...
✓ Schema initialization completed (using simplified adapter)
Database initialized successfully
dbAll called - using mock data for deployment
Error fetching quotes: TypeError: quotes.map is not a function
    at GET (webpack-internal:///(rsc)/./app/api/quotes/route.ts:193:37)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/quotes?company_id=1 500 in 60ms
dbGet called - using mock data for deployment
 GET /api/company-quota?company_id=1 200 in 67ms
Supabase environment variables not found, adapter will be initialized later
Error fetching company preferences: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:256:19)
    at Object.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:310:63)
    at GET (webpack-internal:///(rsc)/./app/api/companies/preferences/route.ts:48:106)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/companies/preferences?companyId=1 500 in 67ms
dbAll called - using mock data for deployment
Error fetching quotes: TypeError: quotes.map is not a function
    at GET (webpack-internal:///(rsc)/./app/api/quotes/route.ts:193:37)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/quotes?company_id=1 500 in 36ms
dbGet called - using mock data for deployment
 GET /api/company-quota?company_id=1 200 in 43ms
Error fetching company preferences: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:256:19)
    at Object.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:310:63)
    at GET (webpack-internal:///(rsc)/./app/api/companies/preferences/route.ts:48:106)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/companies/preferences?companyId=1 500 in 56ms
Error fetching paint products: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:166:19)
    at Object.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:304:58)
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/route.ts:45:103)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products?companyId=1 500 in 57ms
 GET /manifest.json 404 in 54ms
Error fetching paint products: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:166:19)
    at Object.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:304:58)
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/route.ts:45:103)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products?companyId=1 500 in 19ms
 ✓ Compiled in 454ms (736 modules)
 GET /dashboard 200 in 84ms
 ✓ Compiled /api/company-quota in 262ms (484 modules)
 ✓ Compiled in 1ms (488 modules)
 ✓ Compiled in 1ms (488 modules)
 ✓ Compiled in 0ms (488 modules)
No database configured - using mock data for development
Database initialized with simplified adapter
Initializing simplified database adapter...
Starting simplified schema initialization...
✓ Schema initialization completed (using simplified adapter)
Database initialized successfully
dbAll called - using mock data for deployment
📊 Returning quotes: 1 quotes found
📊 Raw quotes from database: [
  {
    id: 999,
    quote_id: 'QUOTE-DEMO-001',
    customer_name: 'Demo Customer',
    address: '123 Test Street',
    quote_amount: 6750,
    status: 'pending',
    project_type: 'interior',
    created_at: '2025-06-24T19:54:04.017Z',
    company_id: 1,
    company_name: 'Demo Company',
    quote_details: '{"final_price":6750,"materials":{"total_material_cost":200},"labor":{"total_labor":4500},"markup_amount":2050}'
  }
]
 GET /api/quotes?company_id=1 200 in 548ms
 ✓ Compiled in 0ms (488 modules)
No database configured - using mock data for development
Database initialized with simplified adapter
dbGet called - using mock data for deployment
Supabase environment variables not found, adapter will be initialized later
Error fetching company preferences: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:256:19)
    at Object.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:310:63)
    at GET (webpack-internal:///(rsc)/./app/api/companies/preferences/route.ts:48:106)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/company-quota?company_id=1 200 in 649ms
 GET /api/companies/preferences?companyId=1 500 in 649ms
 ✓ Compiled /_not-found in 268ms (869 modules)
No database configured - using mock data for development
Database initialized with simplified adapter
Initializing simplified database adapter...
Starting simplified schema initialization...
✓ Schema initialization completed (using simplified adapter)
Database initialized successfully
dbAll called - using mock data for deployment
📊 Returning quotes: 1 quotes found
📊 Raw quotes from database: [
  {
    id: 999,
    quote_id: 'QUOTE-DEMO-001',
    customer_name: 'Demo Customer',
    address: '123 Test Street',
    quote_amount: 6750,
    status: 'pending',
    project_type: 'interior',
    created_at: '2025-06-24T19:54:04.487Z',
    company_id: 1,
    company_name: 'Demo Company',
    quote_details: '{"final_price":6750,"materials":{"total_material_cost":200},"labor":{"total_labor":4500},"markup_amount":2050}'
  }
]
 GET /api/quotes?company_id=1 200 in 461ms
dbGet called - using mock data for deployment
 GET /api/company-quota?company_id=1 200 in 358ms
Supabase environment variables not found, adapter will be initialized later
Error fetching company preferences: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:256:19)
    at Object.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:310:63)
    at GET (webpack-internal:///(rsc)/./app/api/companies/preferences/route.ts:48:106)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/companies/preferences?companyId=1 500 in 360ms
Error fetching paint products: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:166:19)
    at Object.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:304:58)
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/route.ts:45:103)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products?companyId=1 500 in 363ms
 GET /manifest.json 404 in 358ms
Error fetching paint products: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:166:19)
    at Object.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:304:58)
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/route.ts:45:103)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products?companyId=1 500 in 12ms
 GET /manifest.json 404 in 13ms
 ✓ Compiled /api/paint-products/brands in 179ms (873 modules)
Supabase environment variables not found, adapter will be initialized later
Error fetching paint products: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:166:19)
    at Object.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:304:58)
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/route.ts:45:103)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
Error fetching company preferences: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:256:19)
    at Object.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:310:63)
    at GET (webpack-internal:///(rsc)/./app/api/companies/preferences/route.ts:48:106)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products?companyId=1 500 in 208ms
 GET /api/companies/preferences?companyId=1 500 in 208ms
No database configured - using mock data for development
Database initialized with simplified adapter
 GET /api/companies/settings?companyId=1 200 in 249ms
dbAll called - using mock data for deployment
Error fetching paint products by brand: TypeError: products.forEach is not a function
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/brands/route.ts:40:18)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products/brands?companyId=1 500 in 252ms
 GET /manifest.json 404 in 233ms
 ✓ Compiled in 261ms (392 modules)
 ✓ Compiled in 199ms (390 modules)
 ✓ Compiled in 98ms (346 modules)
 ✓ Compiled in 445ms (736 modules)
 ✓ Compiled in 226ms (736 modules)
 ✓ Compiled in 220ms (736 modules)
 ✓ Compiled in 246ms (736 modules)
 ⚠ Fast Refresh had to perform a full reload. Read more: https://nextjs.org/docs/messages/fast-refresh-reload
 ✓ Compiled in 345ms (740 modules)
 GET /create-quote 200 in 152ms
 ✓ Compiled /_not-found in 475ms (868 modules)
No database configured - using mock data for development
Database initialized with simplified adapter
 GET /api/companies/settings?companyId=1 200 in 594ms
dbAll called - using mock data for deployment
Error fetching paint products by brand: TypeError: products.forEach is not a function
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/brands/route.ts:40:18)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products/brands?companyId=1 500 in 597ms
Supabase environment variables not found, adapter will be initialized later
Error fetching paint products: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:166:19)
    at Object.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:304:58)
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/route.ts:45:103)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products?companyId=1 500 in 600ms
Error fetching company preferences: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:256:19)
    at Object.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:310:63)
    at GET (webpack-internal:///(rsc)/./app/api/companies/preferences/route.ts:48:106)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/companies/preferences?companyId=1 500 in 603ms
 GET /manifest.json 404 in 584ms
 GET /manifest.json 404 in 14ms
 ✓ Compiled in 277ms (882 modules)
 ✓ Compiled in 345ms (882 modules)
 ✓ Compiled in 178ms (392 modules)
 ✓ Compiled in 270ms (392 modules)
 ✓ Compiled in 227ms (392 modules)
 ✓ Compiled in 174ms (392 modules)
 ✓ Compiled / in 241ms (411 modules)
 GET / 200 in 371ms
 ✓ Compiled /_not-found in 222ms (792 modules)
 GET /manifest.json 404 in 277ms
 GET /manifest.json 404 in 17ms
 ✓ Compiled /api/verify-code in 184ms (544 modules)
✅ Valid access code: DEMO2024 for Demo Company
 POST /api/verify-code 200 in 269ms
 ✓ Compiled /api/companies/preferences in 69ms (546 modules)
Supabase environment variables not found, adapter will be initialized later
Error fetching company preferences: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:256:19)
    at Object.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:310:63)
    at GET (webpack-internal:///(rsc)/./app/api/companies/preferences/route.ts:48:106)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/companies/preferences?companyId=1 500 in 113ms
 GET /manifest.json 404 in 40ms
 ✓ Compiled /api/paint-products in 167ms (548 modules)
Supabase environment variables not found, adapter will be initialized later
Error saving paint products: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.savePaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:176:19)
    at Object.savePaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:305:69)
    at POST (webpack-internal:///(rsc)/./app/api/paint-products/route.ts:21:86)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57228
    at async eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46851)
    at async eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58760)
    at async doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:28)
    at async DevServer.renderPageComponent (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1924:24)
    at async DevServer.renderToResponseImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1962:32)
    at async DevServer.pipeImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:922:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/sepg/painttest2/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:818:17)
    at async /Users/sepg/painttest2/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/sepg/painttest2/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/sepg/painttest2/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/sepg/painttest2/node_modules/next/dist/server/lib/router-server.js:178:21)
    at async handleRequest (/Users/sepg/painttest2/node_modules/next/dist/server/lib/router-server.js:355:24)
    at async requestHandlerImpl (/Users/sepg/painttest2/node_modules/next/dist/server/lib/router-server.js:379:13)
    at async Server.requestListener (/Users/sepg/painttest2/node_modules/next/dist/server/lib/start-server.js:141:13)
 POST /api/paint-products 500 in 232ms
Error saving company preferences: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.saveCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:266:19)
    at Object.saveCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:311:77)
    at POST (webpack-internal:///(rsc)/./app/api/companies/preferences/route.ts:21:86)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57228
    at async eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46851)
    at async eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58760)
    at async doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:28)
    at async DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:28)
    at async DevServer.renderPageComponent (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1924:24)
    at async DevServer.renderToResponseImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1962:32)
    at async DevServer.pipeImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:922:25)
    at async NextNodeServer.handleCatchallRenderRequest (/Users/sepg/painttest2/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:818:17)
    at async /Users/sepg/painttest2/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/Users/sepg/painttest2/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/Users/sepg/painttest2/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/Users/sepg/painttest2/node_modules/next/dist/server/lib/router-server.js:178:21)
    at async handleRequest (/Users/sepg/painttest2/node_modules/next/dist/server/lib/router-server.js:355:24)
    at async requestHandlerImpl (/Users/sepg/painttest2/node_modules/next/dist/server/lib/router-server.js:379:13)
    at async Server.requestListener (/Users/sepg/painttest2/node_modules/next/dist/server/lib/start-server.js:141:13)
 POST /api/companies/preferences 500 in 18ms
 ✓ Compiled /api/company-quota in 132ms (553 modules)
 ✓ Compiled in 0ms (555 modules)
Supabase environment variables not found, adapter will be initialized later
Error fetching company preferences: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:256:19)
    at Object.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:310:63)
    at GET (webpack-internal:///(rsc)/./app/api/companies/preferences/route.ts:48:106)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/companies/preferences?companyId=1 500 in 246ms
 ✓ Compiled in 1ms (555 modules)
 ✓ Compiled in 0ms (555 modules)
No database configured - using mock data for development
Database initialized with simplified adapter
Initializing simplified database adapter...
Starting simplified schema initialization...
✓ Schema initialization completed (using simplified adapter)
Database initialized successfully
dbAll called - using mock data for deployment
📊 Returning quotes: 1 quotes found
📊 Raw quotes from database: [
  {
    id: 999,
    quote_id: 'QUOTE-DEMO-001',
    customer_name: 'Demo Customer',
    address: '123 Test Street',
    quote_amount: 6750,
    status: 'pending',
    project_type: 'interior',
    created_at: '2025-06-24T20:06:51.557Z',
    company_id: 1,
    company_name: 'Demo Company',
    quote_details: '{"final_price":6750,"materials":{"total_material_cost":200},"labor":{"total_labor":4500},"markup_amount":2050}'
  }
]
 GET /api/quotes?company_id=1 200 in 438ms
 ✓ Compiled in 0ms (555 modules)
No database configured - using mock data for development
Database initialized with simplified adapter
dbGet called - using mock data for deployment
 GET /api/company-quota?company_id=1 200 in 542ms
 ✓ Compiled in 166ms (935 modules)
Supabase environment variables not found, adapter will be initialized later
Error fetching company preferences: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:256:19)
    at Object.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:310:63)
    at GET (webpack-internal:///(rsc)/./app/api/companies/preferences/route.ts:48:106)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
Error fetching paint products: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:166:19)
    at Object.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:304:58)
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/route.ts:45:103)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/companies/preferences?companyId=1 500 in 494ms
 GET /api/paint-products?companyId=1 500 in 493ms
No database configured - using mock data for development
Database initialized with simplified adapter
Initializing simplified database adapter...
Starting simplified schema initialization...
✓ Schema initialization completed (using simplified adapter)
Database initialized successfully
dbAll called - using mock data for deployment
📊 Returning quotes: 1 quotes found
📊 Raw quotes from database: [
  {
    id: 999,
    quote_id: 'QUOTE-DEMO-001',
    customer_name: 'Demo Customer',
    address: '123 Test Street',
    quote_amount: 6750,
    status: 'pending',
    project_type: 'interior',
    created_at: '2025-06-24T20:06:51.935Z',
    company_id: 1,
    company_name: 'Demo Company',
    quote_details: '{"final_price":6750,"materials":{"total_material_cost":200},"labor":{"total_labor":4500},"markup_amount":2050}'
  }
]
 GET /api/quotes?company_id=1 200 in 363ms
dbGet called - using mock data for deployment
 GET /api/company-quota?company_id=1 200 in 258ms
 GET /manifest.json 404 in 251ms
Error fetching paint products: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:166:19)
    at Object.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:304:58)
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/route.ts:45:103)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products?companyId=1 500 in 34ms
 ✓ Compiled /api/paint-products/brands in 244ms (939 modules)
Supabase environment variables not found, adapter will be initialized later
Error fetching paint products: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:166:19)
    at Object.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:304:58)
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/route.ts:45:103)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
Error fetching company preferences: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:256:19)
    at Object.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:310:63)
    at GET (webpack-internal:///(rsc)/./app/api/companies/preferences/route.ts:48:106)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products?companyId=1 500 in 267ms
 GET /api/companies/preferences?companyId=1 500 in 274ms
No database configured - using mock data for development
Database initialized with simplified adapter
 GET /api/companies/settings?companyId=1 200 in 301ms
dbAll called - using mock data for deployment
Error fetching paint products by brand: TypeError: products.forEach is not a function
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/brands/route.ts:40:18)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products/brands?companyId=1 500 in 300ms
 GET /manifest.json 404 in 272ms
 ✓ Compiled /api/unified-quote in 176ms (566 modules)
💭 Conversation State: undefined
🗣️ User Input: It’s for Cici at 9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.
🔍 PARSING INPUT: It’s for Cici at 9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.
👤 Customer Info: {
  customer_name: 'It’s for Cici',
  address: '9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.'
}
🏠 Project Type: interior
📏 Dimensions: { wall_linear_feet: 500, ceiling_height: 9 }
💰 Markup Percentage: 0
🎨 Paint Info: {
  brand: undefined,
  product: ' Eggshell',
  cost_per_gallon: 50,
  spread_rate: 350
}
👷 Labor Rate: 1.5
🏗️ Surfaces: {
  walls: true,
  ceilings: false,
  trim: false,
  doors: false,
  windows: false
}
📋 Special Requests: [ 'No primer required' ]
🏗️ Final Dimensions: {
  wall_linear_feet: 500,
  ceiling_height: 9,
  ceiling_area: 0,
  number_of_doors: 0,
  number_of_windows: 0,
  floor_area: undefined
}
🎨 Selected Products: {
  primer: { spread_rate: 400, cost: 0 },
  wall_paint: { spread_rate: 350, cost_per_gallon: 50 },
  ceiling_paint: { spread_rate: 350, cost_per_gallon: 0 },
  trim_paint: {
    doors_per_gallon: 4.5,
    windows_per_gallon: 2.5,
    cost_per_gallon: 0
  }
}
🔧 Labor Included? true
🔧 Parsed Labor Rate: 1.5
🧮 Wall Sqft: 4500
🧮 Total Cost (labor included): 6750
📊 Labor-Included Quote Result: {
  project_info: {
    wall_linear_feet: 500,
    ceiling_height: 9,
    ceiling_area: 0,
    number_of_doors: 0,
    number_of_windows: 0,
    floor_area: undefined
  },
  materials: {
    total_material_cost: 0,
    walls: { cost: 0, sqft_needed: 4500, gallons_needed: 0 },
    ceilings: { cost: 0, sqft_needed: 0, gallons_needed: 0 },
    trim_doors_windows: { cost: 0, doors_count: 0, windows_count: 0, gallons_needed: 0 },
    primer: { cost: 0, sqft_needed: 0, gallons_needed: 0 }
  },
  labor: {
    total_labor: 0,
    wall_labor: 0,
    ceiling_labor: 0,
    door_labor: 0,
    window_labor: 0,
    primer_labor: 0
  },
  overhead: 0,
  total_cost: 6750,
  markup_percentage: 0,
  markup_amount: 0,
  final_price: 6750,
  profit_margin: 0,
  breakdown_summary: 'All-inclusive rate: $1.5/sqft × 4500 sqft = $6,750'
}
💾 Saved quote to conversation state, awaiting confirmation
 POST /api/unified-quote 200 in 237ms
💭 Conversation State: {
  stage: 'awaiting_confirmation',
  timestamp: 1750882030103,
  lastQuote: {
    project_info: {
      wall_linear_feet: 500,
      ceiling_height: 9,
      ceiling_area: 0,
      number_of_doors: 0,
      number_of_windows: 0,
      floor_area: undefined
    },
    materials: {
      total_material_cost: 0,
      walls: [Object],
      ceilings: [Object],
      trim_doors_windows: [Object],
      primer: [Object]
    },
    labor: {
      total_labor: 0,
      wall_labor: 0,
      ceiling_labor: 0,
      door_labor: 0,
      window_labor: 0,
      primer_labor: 0
    },
    overhead: 0,
    total_cost: 6750,
    markup_percentage: 0,
    markup_amount: 0,
    final_price: 6750,
    profit_margin: 0,
    breakdown_summary: 'All-inclusive rate: $1.5/sqft × 4500 sqft = $6,750'
  },
  lastQuoteSummary: "Perfect! Here's your quote for It’s for Cici at 9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.:\n" +
    '\n' +
    '**Project Details:**\n' +
    '• 500 linear feet of interior walls\n' +
    '• 9 foot ceiling height  \n' +
    '• Quality paint  Eggshell at $50/gallon\n' +
    '• NOT including ceilings\n' +
    '• NOT including doors and trim\n' +
    '• Labor included in per-sqft rate\n' +
    '\n' +
    '**All-Inclusive Quote:**\n' +
    '• Wall Area: 4,500 sqft\n' +
    '• Rate: $1.5/sqft (materials + labor included)\n' +
    '• Total Project Cost: $6,750\n' +
    '\n' +
    '\n' +
    'Ready to save this quote?',
  customerInfo: {
    customer_name: 'It’s for Cici',
    address: '9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.'
  }
}
🗣️ User Input: yes
✅ User confirmed quote saving
💾 Saving quote to database: { customer: 'It’s for Cici', amount: 6750, company_id: 1 }
📝 Created quote locally: { id: 1750882034165, customer: 'It’s for Cici', amount: 6750 }
✅ Quote saved successfully with ID: 1750882034165
 POST /api/unified-quote 200 in 39ms
 ✓ Compiled /quotes/[id]/preview in 362ms (966 modules)
 ✓ Compiled /api/quotes/[id] in 237ms (968 modules)
No database configured - using mock data for development
Database initialized with simplified adapter
 GET /manifest.json 404 in 273ms
No database configured - using mock data for development
Database initialized with simplified adapter
🔍 Fetching quote by ID: 1750882034165
dbGet called - using mock data for deployment
🔍 Searching for quote ID: 1750882034165
❌ Quote not found for ID: 1750882034165
📊 Raw quote from database: null
❌ Quote not found for ID: 1750882034165
 GET /api/quotes/1750882034165 404 in 471ms
🔍 Fetching quote by ID: 1750882034165
dbGet called - using mock data for deployment
🔍 Searching for quote ID: 1750882034165
❌ Quote not found for ID: 1750882034165
📊 Raw quote from database: null
❌ Quote not found for ID: 1750882034165
 GET /api/quotes/1750882034165 404 in 14ms
No database configured - using mock data for development
Database initialized with simplified adapter
Initializing simplified database adapter...
Starting simplified schema initialization...
✓ Schema initialization completed (using simplified adapter)
Database initialized successfully
dbAll called - using mock data for deployment
📊 Returning quotes: 1 quotes found
📊 Raw quotes from database: [
  {
    id: 999,
    quote_id: 'QUOTE-DEMO-001',
    customer_name: 'Demo Customer',
    address: '123 Test Street',
    quote_amount: 6750,
    status: 'pending',
    project_type: 'interior',
    created_at: '2025-06-24T20:07:40.988Z',
    company_id: 1,
    company_name: 'Demo Company',
    quote_details: '{"final_price":6750,"materials":{"total_material_cost":200},"labor":{"total_labor":4500},"markup_amount":2050}'
  }
]
 GET /api/quotes 200 in 26ms
🔍 Fetching quote by ID: 999
dbGet called - using mock data for deployment
🔍 Searching for quote ID: 999
📊 Raw quote from database: {
  id: 999,
  quote_id: 'QUOTE-DEMO-001',
  customer_name: 'Demo Customer',
  address: '123 Test Street',
  quote_amount: 6750,
  status: 'pending',
  project_type: 'interior',
  created_at: '2025-06-24T20:07:45.489Z',
  company_id: 1,
  company_name: 'Demo Company',
  quote_details: '{"final_price":6750,"materials":{"total_material_cost":200},"labor":{"total_labor":4500},"markup_amount":2050}'
}
✅ Found quote: { id: 999, customer: 'Demo Customer' }
 GET /api/quotes/999 200 in 17ms
No database configured - using mock data for development
Database initialized with simplified adapter
dbGet called - using mock data for deployment
📝 Created quote locally: { id: 1750882086871, customer: 'Test Customer', amount: undefined }
dbGet called - using mock data for deployment
dbRun called - using mock data for deployment
dbRun called - using mock data for deployment
📊 Quote creation recorded for company 1, quote QUOTE-MCCDZKK7-X2QOHF
✅ Quote created: QUOTE-MCCDZKK7-X2QOHF for company 1
 POST /api/quotes 200 in 21ms
🔍 Fetching quote by ID: QUOTE-MCCDZKK7-X2QOHF
dbGet called - using mock data for deployment
🔍 Searching for quote ID: QUOTE-MCCDZKK7-X2QOHF
✅ Found local quote: Test Customer
📊 Raw quote from database: {
  id: 1750882086871,
  quote_id: 'QUOTE-MCCDZKK7-X2QOHF',
  customer_name: 'Test Customer',
  address: '456 Test Ave',
  quote_amount: undefined,
  status: 'pending',
  project_type: 'interior',
  created_at: '2025-06-25T20:08:06.871Z',
  updated_at: '2025-06-25T20:08:06.871Z',
  company_id: '1',
  company_name: 'Demo Company',
  quote_details: undefined
}
✅ Found quote: { id: 1750882086871, customer: 'Test Customer' }
 GET /api/quotes/QUOTE-MCCDZKK7-X2QOHF 200 in 21ms
No database configured - using mock data for development
Database initialized with simplified adapter
dbAll called - using mock data for deployment
📊 Returning quotes: 1 quotes found
📊 Raw quotes from database: [
  {
    id: 1750882086871,
    quote_id: 'QUOTE-MCCDZKK7-X2QOHF',
    customer_name: 'Test Customer',
    address: '456 Test Ave',
    quote_amount: undefined,
    status: 'pending',
    project_type: 'interior',
    created_at: '2025-06-25T20:08:06.871Z',
    updated_at: '2025-06-25T20:08:06.871Z',
    company_id: '1',
    company_name: 'Demo Company',
    quote_details: undefined,
    breakdown: { labor: NaN, materials: NaN, prepWork: NaN, markup: NaN },
    total_cost: undefined,
    sqft: 0,
    paint_quality: 'premium',
    timeline: 'standard'
  }
]
 GET /api/quotes 200 in 18ms
 ✓ Compiled in 531ms (900 modules)
 ✓ Compiled in 258ms (900 modules)
No database configured - using mock data for development
Database initialized with simplified adapter
Initializing simplified database adapter...
Starting simplified schema initialization...
✓ Schema initialization completed (using simplified adapter)
Database initialized successfully
dbGet called - using mock data for deployment
📝 Created quote locally: { id: 1750882158519, customer: 'Fixed Test Customer', amount: 7500 }
dbGet called - using mock data for deployment
dbRun called - using mock data for deployment
dbRun called - using mock data for deployment
📊 Quote creation recorded for company 1, quote QUOTE-MCCE13UF-7MCS9S
✅ Quote created: QUOTE-MCCE13UF-7MCS9S for company 1
 POST /api/quotes 200 in 34ms
🔍 Fetching quote by ID: QUOTE-MCCE13UF-7MCS9S
dbGet called - using mock data for deployment
🔍 Searching for quote ID: QUOTE-MCCE13UF-7MCS9S
✅ Found local quote: Fixed Test Customer
📊 Raw quote from database: {
  id: 1750882158519,
  quote_id: 'QUOTE-MCCE13UF-7MCS9S',
  customer_name: 'Fixed Test Customer',
  address: '789 Fixed Ave',
  quote_amount: 7500,
  status: 'pending',
  project_type: 'interior',
  created_at: '2025-06-25T20:09:18.519Z',
  updated_at: '2025-06-25T20:09:18.519Z',
  company_id: '1',
  company_name: 'Demo Company',
  quote_details: undefined
}
✅ Found quote: { id: 1750882158519, customer: 'Fixed Test Customer' }
 GET /api/quotes/QUOTE-MCCE13UF-7MCS9S 200 in 20ms
No database configured - using mock data for development
Database initialized with simplified adapter
dbAll called - using mock data for deployment
📊 Returning quotes: 1 quotes found
📊 Raw quotes from database: [
  {
    id: 1750882158519,
    quote_id: 'QUOTE-MCCE13UF-7MCS9S',
    customer_name: 'Fixed Test Customer',
    address: '789 Fixed Ave',
    quote_amount: 7500,
    status: 'pending',
    project_type: 'interior',
    created_at: '2025-06-25T20:09:18.519Z',
    updated_at: '2025-06-25T20:09:18.519Z',
    company_id: '1',
    company_name: 'Demo Company',
    quote_details: undefined,
    breakdown: { labor: NaN, materials: NaN, prepWork: NaN, markup: NaN },
    total_cost: 7500,
    sqft: 0,
    paint_quality: 'premium',
    timeline: 'standard'
  }
]
 GET /api/quotes 200 in 15ms
 ✓ Compiled in 297ms (900 modules)
No database configured - using mock data for development
Database initialized with simplified adapter
Initializing simplified database adapter...
Starting simplified schema initialization...
✓ Schema initialization completed (using simplified adapter)
Database initialized successfully
dbAll called - using mock data for deployment
📊 Returning quotes: 1 quotes found
📊 Raw quotes from database: [
  {
    id: 999,
    quote_id: 'QUOTE-DEMO-001',
    customer_name: 'Demo Customer',
    address: '123 Test Street',
    quote_amount: 6750,
    status: 'pending',
    project_type: 'interior',
    created_at: '2025-06-24T20:10:04.786Z',
    company_id: 1,
    company_name: 'Demo Company',
    quote_details: '{"final_price":6750,"materials":{"total_material_cost":200},"labor":{"total_labor":4500},"markup_amount":2050}'
  }
]
 GET /api/quotes 200 in 24ms
dbGet called - using mock data for deployment
📝 Created quote locally: { id: 1750882222551, customer: 'Final Test Customer', amount: 8500 }
dbGet called - using mock data for deployment
dbRun called - using mock data for deployment
dbRun called - using mock data for deployment
📊 Quote creation recorded for company 1, quote QUOTE-MCCE2H93-5B83CV
✅ Quote created: QUOTE-MCCE2H93-5B83CV for company 1
 POST /api/quotes 200 in 24ms
dbAll called - using mock data for deployment
📊 Returning quotes: 1 quotes found
📊 Raw quotes from database: [
  {
    id: 1750882222551,
    quote_id: 'QUOTE-MCCE2H93-5B83CV',
    customer_name: 'Final Test Customer',
    address: '999 Success Street',
    quote_amount: 8500,
    status: 'pending',
    project_type: 'interior',
    created_at: '2025-06-25T20:10:22.551Z',
    updated_at: '2025-06-25T20:10:22.551Z',
    company_id: '1',
    company_name: 'Demo Company',
    quote_details: undefined
  }
]
 GET /api/quotes 200 in 18ms
🔍 Fetching quote by ID: QUOTE-MCCE2H93-5B83CV
dbGet called - using mock data for deployment
🔍 Searching for quote ID: QUOTE-MCCE2H93-5B83CV
✅ Found local quote: Final Test Customer
📊 Raw quote from database: {
  id: 1750882222551,
  quote_id: 'QUOTE-MCCE2H93-5B83CV',
  customer_name: 'Final Test Customer',
  address: '999 Success Street',
  quote_amount: 8500,
  status: 'pending',
  project_type: 'interior',
  created_at: '2025-06-25T20:10:22.551Z',
  updated_at: '2025-06-25T20:10:22.551Z',
  company_id: '1',
  company_name: 'Demo Company',
  quote_details: undefined
}
✅ Found quote: { id: 1750882222551, customer: 'Final Test Customer' }
 GET /api/quotes/QUOTE-MCCE2H93-5B83CV 200 in 22ms
No database configured - using mock data for development
Database initialized with simplified adapter
dbAll called - using mock data for deployment
📊 Returning quotes: 1 quotes found
📊 Raw quotes from database: [
  {
    id: 1750882222551,
    quote_id: 'QUOTE-MCCE2H93-5B83CV',
    customer_name: 'Final Test Customer',
    address: '999 Success Street',
    quote_amount: 8500,
    status: 'pending',
    project_type: 'interior',
    created_at: '2025-06-25T20:10:22.551Z',
    updated_at: '2025-06-25T20:10:22.551Z',
    company_id: '1',
    company_name: 'Demo Company',
    quote_details: undefined,
    breakdown: { labor: NaN, materials: NaN, prepWork: NaN, markup: NaN },
    total_cost: 8500,
    sqft: 0,
    paint_quality: 'premium',
    timeline: 'standard'
  }
]
 GET /api/quotes?company_id=1 200 in 70ms
 ○ Compiling /_not-found ...
 ✓ Compiled /_not-found in 501ms (891 modules)
Supabase environment variables not found, adapter will be initialized later
Error fetching company preferences: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:256:19)
    at Object.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:310:63)
    at GET (webpack-internal:///(rsc)/./app/api/companies/preferences/route.ts:48:106)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/companies/preferences?companyId=1 500 in 665ms
No database configured - using mock data for development
Database initialized with simplified adapter
dbGet called - using mock data for deployment
 GET /api/company-quota?company_id=1 200 in 676ms
Initializing simplified database adapter...
Starting simplified schema initialization...
✓ Schema initialization completed (using simplified adapter)
Database initialized successfully
dbAll called - using mock data for deployment
📊 Returning quotes: 1 quotes found
📊 Raw quotes from database: [
  {
    id: 999,
    quote_id: 'QUOTE-DEMO-001',
    customer_name: 'Demo Customer',
    address: '123 Test Street',
    quote_amount: 6750,
    status: 'pending',
    project_type: 'interior',
    created_at: '2025-06-24T20:12:01.467Z',
    company_id: 1,
    company_name: 'Demo Company',
    quote_details: '{"final_price":6750,"materials":{"total_material_cost":200},"labor":{"total_labor":4500},"markup_amount":2050}'
  }
]
 GET /api/quotes?company_id=1 200 in 621ms
 GET /manifest.json 404 in 635ms
Error fetching company preferences: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:256:19)
    at Object.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:310:63)
    at GET (webpack-internal:///(rsc)/./app/api/companies/preferences/route.ts:48:106)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/companies/preferences?companyId=1 500 in 39ms
 ✓ Compiled /api/paint-products in 103ms (504 modules)
No database configured - using mock data for development
Database initialized with simplified adapter
dbGet called - using mock data for deployment
 GET /api/company-quota?company_id=1 200 in 244ms
Supabase environment variables not found, adapter will be initialized later
Error fetching paint products: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:166:19)
    at Object.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:304:58)
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/route.ts:45:103)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products?companyId=1 500 in 254ms
Error fetching paint products: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:166:19)
    at Object.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:304:58)
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/route.ts:45:103)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products?companyId=1 500 in 18ms
 ✓ Compiled /api/paint-products/brands in 266ms (897 modules)
Supabase environment variables not found, adapter will be initialized later
Error fetching paint products: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:166:19)
    at Object.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:304:58)
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/route.ts:45:103)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
Error fetching company preferences: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:256:19)
    at Object.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:310:63)
    at GET (webpack-internal:///(rsc)/./app/api/companies/preferences/route.ts:48:106)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products?companyId=1 500 in 307ms
 GET /api/companies/preferences?companyId=1 500 in 308ms
No database configured - using mock data for development
Database initialized with simplified adapter
 GET /api/companies/settings?companyId=1 200 in 351ms
dbAll called - using mock data for deployment
Error fetching paint products by brand: TypeError: products.forEach is not a function
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/brands/route.ts:40:18)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products/brands?companyId=1 500 in 355ms
 GET /manifest.json 404 in 318ms
 ✓ Compiled /api/unified-quote in 188ms (515 modules)
💭 Conversation State: undefined
🗣️ User Input: It’s for Cici at 9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.
🔍 PARSING INPUT: It’s for Cici at 9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.
👤 Customer Info: {
  customer_name: 'It’s for Cici',
  address: '9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.'
}
🏠 Project Type: interior
📏 Dimensions: { wall_linear_feet: 500, ceiling_height: 9 }
💰 Markup Percentage: 0
🎨 Paint Info: {
  brand: undefined,
  product: ' Eggshell',
  cost_per_gallon: 50,
  spread_rate: 350
}
👷 Labor Rate: 1.5
🏗️ Surfaces: {
  walls: true,
  ceilings: false,
  trim: false,
  doors: false,
  windows: false
}
📋 Special Requests: [ 'No primer required' ]
🏗️ Final Dimensions: {
  wall_linear_feet: 500,
  ceiling_height: 9,
  ceiling_area: 0,
  number_of_doors: 0,
  number_of_windows: 0,
  floor_area: undefined
}
🎨 Selected Products: {
  primer: { spread_rate: 400, cost: 0 },
  wall_paint: { spread_rate: 350, cost_per_gallon: 50 },
  ceiling_paint: { spread_rate: 350, cost_per_gallon: 0 },
  trim_paint: {
    doors_per_gallon: 4.5,
    windows_per_gallon: 2.5,
    cost_per_gallon: 0
  }
}
🔧 Labor Included? true
🔧 Parsed Labor Rate: 1.5
🧮 Wall Sqft: 4500
🧮 Total Cost (labor included): 6750
📊 Labor-Included Quote Result: {
  project_info: {
    wall_linear_feet: 500,
    ceiling_height: 9,
    ceiling_area: 0,
    number_of_doors: 0,
    number_of_windows: 0,
    floor_area: undefined
  },
  materials: {
    total_material_cost: 0,
    walls: { cost: 0, sqft_needed: 4500, gallons_needed: 0 },
    ceilings: { cost: 0, sqft_needed: 0, gallons_needed: 0 },
    trim_doors_windows: { cost: 0, doors_count: 0, windows_count: 0, gallons_needed: 0 },
    primer: { cost: 0, sqft_needed: 0, gallons_needed: 0 }
  },
  labor: {
    total_labor: 0,
    wall_labor: 0,
    ceiling_labor: 0,
    door_labor: 0,
    window_labor: 0,
    primer_labor: 0
  },
  overhead: 0,
  total_cost: 6750,
  markup_percentage: 0,
  markup_amount: 0,
  final_price: 6750,
  profit_margin: 0,
  breakdown_summary: 'All-inclusive rate: $1.5/sqft × 4500 sqft = $6,750'
}
💾 Saved quote to conversation state, awaiting confirmation
 POST /api/unified-quote 200 in 259ms
💭 Conversation State: {
  stage: 'awaiting_confirmation',
  timestamp: 1750882340186,
  lastQuote: {
    project_info: {
      wall_linear_feet: 500,
      ceiling_height: 9,
      ceiling_area: 0,
      number_of_doors: 0,
      number_of_windows: 0,
      floor_area: undefined
    },
    materials: {
      total_material_cost: 0,
      walls: [Object],
      ceilings: [Object],
      trim_doors_windows: [Object],
      primer: [Object]
    },
    labor: {
      total_labor: 0,
      wall_labor: 0,
      ceiling_labor: 0,
      door_labor: 0,
      window_labor: 0,
      primer_labor: 0
    },
    overhead: 0,
    total_cost: 6750,
    markup_percentage: 0,
    markup_amount: 0,
    final_price: 6750,
    profit_margin: 0,
    breakdown_summary: 'All-inclusive rate: $1.5/sqft × 4500 sqft = $6,750'
  },
  lastQuoteSummary: "Perfect! Here's your quote for It’s for Cici at 9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.:\n" +
    '\n' +
    '**Project Details:**\n' +
    '• 500 linear feet of interior walls\n' +
    '• 9 foot ceiling height  \n' +
    '• Quality paint  Eggshell at $50/gallon\n' +
    '• NOT including ceilings\n' +
    '• NOT including doors and trim\n' +
    '• Labor included in per-sqft rate\n' +
    '\n' +
    '**All-Inclusive Quote:**\n' +
    '• Wall Area: 4,500 sqft\n' +
    '• Rate: $1.5/sqft (materials + labor included)\n' +
    '• Total Project Cost: $6,750\n' +
    '\n' +
    '\n' +
    'Ready to save this quote?',
  customerInfo: {
    customer_name: 'It’s for Cici',
    address: '9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.'
  }
}
🗣️ User Input: yes
✅ User confirmed quote saving
💾 Saving quote to database: { customer: 'It’s for Cici', amount: 6750, company_id: 1 }
📝 Created quote locally: { id: 1750882344678, customer: 'It’s for Cici', amount: 6750 }
✅ Quote saved successfully with ID: 1750882344678
 POST /api/unified-quote 200 in 43ms
 ✓ Compiled /api/quotes/[id] in 212ms (906 modules)
No database configured - using mock data for development
Database initialized with simplified adapter
🔍 Fetching quote by ID: 1750882344678
dbGet called - using mock data for deployment
🔍 Searching for quote ID: 1750882344678
❌ Quote not found for ID: 1750882344678
📊 Raw quote from database: null
❌ Quote not found for ID: 1750882344678
 GET /api/quotes/1750882344678 404 in 249ms
 GET /manifest.json 404 in 262ms
🔍 Fetching quote by ID: 1750882344678
dbGet called - using mock data for deployment
🔍 Searching for quote ID: 1750882344678
❌ Quote not found for ID: 1750882344678
📊 Raw quote from database: null
❌ Quote not found for ID: 1750882344678
 GET /api/quotes/1750882344678 404 in 17ms
No database configured - using mock data for development
Database initialized with simplified adapter
🔍 Fetching quote by ID: 1750882344678
dbGet called - using mock data for deployment
🔍 Searching for quote ID: 1750882344678
❌ Quote not found for ID: 1750882344678
📊 Raw quote from database: null
❌ Quote not found for ID: 1750882344678
 GET /api/quotes/1750882344678 404 in 21ms
No database configured - using mock data for development
Database initialized with simplified adapter
Initializing simplified database adapter...
Starting simplified schema initialization...
✓ Schema initialization completed (using simplified adapter)
Database initialized successfully
dbAll called - using mock data for deployment
📊 Returning quotes: 1 quotes found
📊 Raw quotes from database: [
  {
    id: 999,
    quote_id: 'QUOTE-DEMO-001',
    customer_name: 'Demo Customer',
    address: '123 Test Street',
    quote_amount: 6750,
    status: 'pending',
    project_type: 'interior',
    created_at: '2025-06-24T20:13:05.274Z',
    company_id: 1,
    company_name: 'Demo Company',
    quote_details: '{"final_price":6750,"materials":{"total_material_cost":200},"labor":{"total_labor":4500},"markup_amount":2050}'
  }
]
 GET /api/quotes 200 in 21ms
 GET /quotes/999/preview 200 in 37ms
🔍 Fetching quote by ID: QUOTE-DEMO-001
dbGet called - using mock data for deployment
🔍 Searching for quote ID: QUOTE-DEMO-001
📊 Raw quote from database: {
  id: 999,
  quote_id: 'QUOTE-DEMO-001',
  customer_name: 'Demo Customer',
  address: '123 Test Street',
  quote_amount: 6750,
  status: 'pending',
  project_type: 'interior',
  created_at: '2025-06-24T20:13:28.585Z',
  company_id: 1,
  company_name: 'Demo Company',
  quote_details: '{"final_price":6750,"materials":{"total_material_cost":200},"labor":{"total_labor":4500},"markup_amount":2050}'
}
✅ Found quote: { id: 999, customer: 'Demo Customer' }
 GET /api/quotes/QUOTE-DEMO-001 200 in 18ms
No database configured - using mock data for development
Database initialized with simplified adapter
 GET /quotes/QUOTE-DEMO-001/preview 200 in 37ms
 GET /.well-known/appspecific/com.chrome.devtools.json 404 in 27ms
 GET /manifest.json 404 in 33ms
dbGet called - using mock data for deployment
📝 Created quote locally: { id: 1750882430165, customer: 'Preview Test Customer', amount: 9500 }
dbGet called - using mock data for deployment
dbRun called - using mock data for deployment
dbRun called - using mock data for deployment
📊 Quote creation recorded for company 1, quote QUOTE-MCCE6XG5-MJAGQG
✅ Quote created: QUOTE-MCCE6XG5-MJAGQG for company 1
 POST /api/quotes 200 in 22ms
🔍 Fetching quote by ID: QUOTE-MCCE6XG5-MJAGQG
dbGet called - using mock data for deployment
🔍 Searching for quote ID: QUOTE-MCCE6XG5-MJAGQG
✅ Found local quote: Preview Test Customer
📊 Raw quote from database: {
  id: 1750882430165,
  quote_id: 'QUOTE-MCCE6XG5-MJAGQG',
  customer_name: 'Preview Test Customer',
  address: '123 Preview Street',
  quote_amount: 9500,
  status: 'pending',
  project_type: 'interior',
  created_at: '2025-06-25T20:13:50.165Z',
  updated_at: '2025-06-25T20:13:50.165Z',
  company_id: '1',
  company_name: 'Demo Company',
  quote_details: undefined
}
✅ Found quote: { id: 1750882430165, customer: 'Preview Test Customer' }
 GET /api/quotes/QUOTE-MCCE6XG5-MJAGQG 200 in 20ms
No database configured - using mock data for development
Database initialized with simplified adapter
 GET /api/companies/settings?companyId=1 200 in 106ms
Supabase environment variables not found, adapter will be initialized later
Error fetching company preferences: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:256:19)
    at Object.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:310:63)
    at GET (webpack-internal:///(rsc)/./app/api/companies/preferences/route.ts:48:106)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/companies/preferences?companyId=1 500 in 109ms
dbAll called - using mock data for deployment
Error fetching paint products by brand: TypeError: products.forEach is not a function
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/brands/route.ts:40:18)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products/brands?companyId=1 500 in 101ms
Error fetching paint products: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:166:19)
    at Object.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:304:58)
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/route.ts:45:103)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products?companyId=1 500 in 101ms
 GET /manifest.json 404 in 49ms
💭 Conversation State: undefined
🗣️ User Input: It’s for Cici at 9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.
🔍 PARSING INPUT: It’s for Cici at 9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.
👤 Customer Info: {
  customer_name: 'It’s for Cici',
  address: '9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.'
}
🏠 Project Type: interior
📏 Dimensions: { wall_linear_feet: 500, ceiling_height: 9 }
💰 Markup Percentage: 0
🎨 Paint Info: {
  brand: undefined,
  product: ' Eggshell',
  cost_per_gallon: 50,
  spread_rate: 350
}
👷 Labor Rate: 1.5
🏗️ Surfaces: {
  walls: true,
  ceilings: false,
  trim: false,
  doors: false,
  windows: false
}
📋 Special Requests: [ 'No primer required' ]
🏗️ Final Dimensions: {
  wall_linear_feet: 500,
  ceiling_height: 9,
  ceiling_area: 0,
  number_of_doors: 0,
  number_of_windows: 0,
  floor_area: undefined
}
🎨 Selected Products: {
  primer: { spread_rate: 400, cost: 0 },
  wall_paint: { spread_rate: 350, cost_per_gallon: 50 },
  ceiling_paint: { spread_rate: 350, cost_per_gallon: 0 },
  trim_paint: {
    doors_per_gallon: 4.5,
    windows_per_gallon: 2.5,
    cost_per_gallon: 0
  }
}
🔧 Labor Included? true
🔧 Parsed Labor Rate: 1.5
🧮 Wall Sqft: 4500
🧮 Total Cost (labor included): 6750
📊 Labor-Included Quote Result: {
  project_info: {
    wall_linear_feet: 500,
    ceiling_height: 9,
    ceiling_area: 0,
    number_of_doors: 0,
    number_of_windows: 0,
    floor_area: undefined
  },
  materials: {
    total_material_cost: 0,
    walls: { cost: 0, sqft_needed: 4500, gallons_needed: 0 },
    ceilings: { cost: 0, sqft_needed: 0, gallons_needed: 0 },
    trim_doors_windows: { cost: 0, doors_count: 0, windows_count: 0, gallons_needed: 0 },
    primer: { cost: 0, sqft_needed: 0, gallons_needed: 0 }
  },
  labor: {
    total_labor: 0,
    wall_labor: 0,
    ceiling_labor: 0,
    door_labor: 0,
    window_labor: 0,
    primer_labor: 0
  },
  overhead: 0,
  total_cost: 6750,
  markup_percentage: 0,
  markup_amount: 0,
  final_price: 6750,
  profit_margin: 0,
  breakdown_summary: 'All-inclusive rate: $1.5/sqft × 4500 sqft = $6,750'
}
💾 Saved quote to conversation state, awaiting confirmation
 POST /api/unified-quote 200 in 33ms
💭 Conversation State: {
  stage: 'awaiting_confirmation',
  timestamp: 1750882447737,
  lastQuote: {
    project_info: {
      wall_linear_feet: 500,
      ceiling_height: 9,
      ceiling_area: 0,
      number_of_doors: 0,
      number_of_windows: 0,
      floor_area: undefined
    },
    materials: {
      total_material_cost: 0,
      walls: [Object],
      ceilings: [Object],
      trim_doors_windows: [Object],
      primer: [Object]
    },
    labor: {
      total_labor: 0,
      wall_labor: 0,
      ceiling_labor: 0,
      door_labor: 0,
      window_labor: 0,
      primer_labor: 0
    },
    overhead: 0,
    total_cost: 6750,
    markup_percentage: 0,
    markup_amount: 0,
    final_price: 6750,
    profit_margin: 0,
    breakdown_summary: 'All-inclusive rate: $1.5/sqft × 4500 sqft = $6,750'
  },
  lastQuoteSummary: "Perfect! Here's your quote for It’s for Cici at 9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.:\n" +
    '\n' +
    '**Project Details:**\n' +
    '• 500 linear feet of interior walls\n' +
    '• 9 foot ceiling height  \n' +
    '• Quality paint  Eggshell at $50/gallon\n' +
    '• NOT including ceilings\n' +
    '• NOT including doors and trim\n' +
    '• Labor included in per-sqft rate\n' +
    '\n' +
    '**All-Inclusive Quote:**\n' +
    '• Wall Area: 4,500 sqft\n' +
    '• Rate: $1.5/sqft (materials + labor included)\n' +
    '• Total Project Cost: $6,750\n' +
    '\n' +
    '\n' +
    'Ready to save this quote?',
  customerInfo: {
    customer_name: 'It’s for Cici',
    address: '9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.'
  }
}
🗣️ User Input: yes
✅ User confirmed quote saving
💾 Saving quote to database: { customer: 'It’s for Cici', amount: 6750, company_id: 1 }
📝 Created quote locally: { id: 1750882454327, customer: 'It’s for Cici', amount: 6750 }
✅ Quote saved successfully with ID: 1750882454327
 POST /api/unified-quote 200 in 34ms
🔍 Fetching quote by ID: 1750882454327
dbGet called - using mock data for deployment
🔍 Searching for quote ID: 1750882454327
✅ Found local quote: It’s for Cici
📊 Raw quote from database: {
  id: 1750882454327,
  quote_id: 'QUOTE-1750882454327',
  customer_name: 'It’s for Cici',
  address: '9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.',
  quote_amount: 6750,
  status: 'pending',
  project_type: 'interior',
  created_at: '2025-06-25T20:14:14.327Z',
  updated_at: '2025-06-25T20:14:14.327Z',
  company_id: 1,
  company_name: 'Demo Company',
  quote_details: '{"project_info":{"wall_linear_feet":500,"ceiling_height":9,"ceiling_area":0,"number_of_doors":0,"number_of_windows":0},"materials":{"total_material_cost":0,"walls":{"cost":0,"sqft_needed":4500,"gallons_needed":0},"ceilings":{"cost":0,"sqft_needed":0,"gallons_needed":0},"trim_doors_windows":{"cost":0,"doors_count":0,"windows_count":0,"gallons_needed":0},"primer":{"cost":0,"sqft_needed":0,"gallons_needed":0}},"labor":{"total_labor":0,"wall_labor":0,"ceiling_labor":0,"door_labor":0,"window_labor":0,"primer_labor":0},"overhead":0,"total_cost":6750,"markup_percentage":0,"markup_amount":0,"final_price":6750,"profit_margin":0,"breakdown_summary":"All-inclusive rate: $1.5/sqft × 4500 sqft = $6,750"}'
}
✅ Found quote: { id: 1750882454327, customer: 'It’s for Cici' }
 GET /api/quotes/1750882454327 200 in 31ms
 GET /manifest.json 404 in 67ms
🔍 Fetching quote by ID: 1750882454327
dbGet called - using mock data for deployment
🔍 Searching for quote ID: 1750882454327
✅ Found local quote: It’s for Cici
📊 Raw quote from database: {
  id: 1750882454327,
  quote_id: 'QUOTE-1750882454327',
  customer_name: 'It’s for Cici',
  address: '9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.',
  quote_amount: 6750,
  status: 'pending',
  project_type: 'interior',
  created_at: '2025-06-25T20:14:14.327Z',
  updated_at: '2025-06-25T20:14:14.327Z',
  company_id: 1,
  company_name: 'Demo Company',
  quote_details: '{"project_info":{"wall_linear_feet":500,"ceiling_height":9,"ceiling_area":0,"number_of_doors":0,"number_of_windows":0},"materials":{"total_material_cost":0,"walls":{"cost":0,"sqft_needed":4500,"gallons_needed":0},"ceilings":{"cost":0,"sqft_needed":0,"gallons_needed":0},"trim_doors_windows":{"cost":0,"doors_count":0,"windows_count":0,"gallons_needed":0},"primer":{"cost":0,"sqft_needed":0,"gallons_needed":0}},"labor":{"total_labor":0,"wall_labor":0,"ceiling_labor":0,"door_labor":0,"window_labor":0,"primer_labor":0},"overhead":0,"total_cost":6750,"markup_percentage":0,"markup_amount":0,"final_price":6750,"profit_margin":0,"breakdown_summary":"All-inclusive rate: $1.5/sqft × 4500 sqft = $6,750"}',
  breakdown: { labor: NaN, materials: NaN, prepWork: NaN, markup: NaN },
  total_cost: 6750,
  sqft: 0,
  paint_quality: 'premium',
  timeline: 'standard'
}
✅ Found quote: { id: 1750882454327, customer: 'It’s for Cici' }
 GET /api/quotes/1750882454327 200 in 70ms
No database configured - using mock data for development
Database initialized with simplified adapter
 ✓ Compiled in 571ms (918 modules)
No database configured - using mock data for development
Database initialized with simplified adapter
Initializing simplified database adapter...
Starting simplified schema initialization...
✓ Schema initialization completed (using simplified adapter)
Database initialized successfully
dbGet called - using mock data for deployment
📝 Created quote locally: { id: 1750882480570, customer: 'Debug Test Customer', amount: 8800 }
dbGet called - using mock data for deployment
dbRun called - using mock data for deployment
dbRun called - using mock data for deployment
📊 Quote creation recorded for company 1, quote QUOTE-MCCE80CA-8XCT0H
✅ Quote created: QUOTE-MCCE80CA-8XCT0H for company 1
 POST /api/quotes 200 in 37ms
🔍 Fetching quote by ID: QUOTE-MCCE80CA-8XCT0H
dbGet called - using mock data for deployment
🔍 Searching for quote ID: QUOTE-MCCE80CA-8XCT0H
✅ Found local quote: Debug Test Customer
📊 Raw quote from database: {
  id: 1750882480570,
  quote_id: 'QUOTE-MCCE80CA-8XCT0H',
  customer_name: 'Debug Test Customer',
  address: '456 Debug Ave',
  quote_amount: 8800,
  status: 'pending',
  project_type: 'interior',
  created_at: '2025-06-25T20:14:40.570Z',
  updated_at: '2025-06-25T20:14:40.570Z',
  company_id: '1',
  company_name: 'Demo Company',
  quote_details: undefined
}
✅ Found quote: { id: 1750882480570, customer: 'Debug Test Customer' }
 GET /api/quotes/QUOTE-MCCE80CA-8XCT0H 200 in 18ms
No database configured - using mock data for development
Database initialized with simplified adapter
🔍 Fetching quote by ID: QUOTE-1750882454327
dbGet called - using mock data for deployment
🔍 Searching for quote ID: QUOTE-1750882454327
❌ Quote not found for ID: QUOTE-1750882454327
📊 Raw quote from database: null
❌ Quote not found for ID: QUOTE-1750882454327
 GET /api/quotes/QUOTE-1750882454327 404 in 26ms
No database configured - using mock data for development
Database initialized with simplified adapter
dbAll called - using mock data for deployment
📊 Returning quotes: 1 quotes found
📊 Raw quotes from database: [
  {
    id: 1750882480570,
    quote_id: 'QUOTE-MCCE80CA-8XCT0H',
    customer_name: 'Debug Test Customer',
    address: '456 Debug Ave',
    quote_amount: 8800,
    status: 'pending',
    project_type: 'interior',
    created_at: '2025-06-25T20:14:40.570Z',
    updated_at: '2025-06-25T20:14:40.570Z',
    company_id: '1',
    company_name: 'Demo Company',
    quote_details: undefined,
    breakdown: { labor: NaN, materials: NaN, prepWork: NaN, markup: NaN },
    total_cost: 8800,
    sqft: 0,
    paint_quality: 'premium',
    timeline: 'standard'
  }
]
 GET /api/quotes 200 in 20ms
dbGet called - using mock data for deployment
📝 Created quote locally: { id: 1750882679807, customer: "It's for Cici", amount: 6750 }
dbGet called - using mock data for deployment
dbRun called - using mock data for deployment
dbRun called - using mock data for deployment
📊 Quote creation recorded for company 1, quote QUOTE-MCCECA2N-F1NM5J
✅ Quote created: QUOTE-MCCECA2N-F1NM5J for company 1
 POST /api/quotes 200 in 24ms
 ✓ Compiled in 485ms (898 modules)
 ✓ Compiled in 293ms (898 modules)
 ✓ Compiled in 365ms (760 modules)
 ✓ Compiled in 281ms (760 modules)
 ✓ Compiled in 375ms (760 modules)
 ✓ Compiled in 359ms (760 modules)
 ✓ Compiled in 292ms (760 modules)
 ✓ Compiled in 360ms (760 modules)
 ✓ Compiled /api/quotes/[id] in 265ms (492 modules)
No database configured - using mock data for development
Database initialized with simplified adapter
🔍 Fetching quote by ID: QUOTE-MCCECA2N-F1NM5J
dbGet called - using mock data for deployment
🔍 Searching for quote ID: QUOTE-MCCECA2N-F1NM5J
❌ Quote not found for ID: QUOTE-MCCECA2N-F1NM5J
📊 Raw quote from database: null
❌ Quote not found for ID: QUOTE-MCCECA2N-F1NM5J
 GET /api/quotes/QUOTE-MCCECA2N-F1NM5J 404 in 343ms
No database configured - using mock data for development
Database initialized with simplified adapter
 ✓ Compiled /api/quotes in 142ms (499 modules)
No database configured - using mock data for development
Database initialized with simplified adapter
Initializing simplified database adapter...
Starting simplified schema initialization...
✓ Schema initialization completed (using simplified adapter)
Database initialized successfully
dbGet called - using mock data for deployment
📝 Created quote locally: { id: 1750882910484, customer: "It's for Cici", amount: 6750 }
dbGet called - using mock data for deployment
dbRun called - using mock data for deployment
dbRun called - using mock data for deployment
📊 Quote creation recorded for company 1, quote QUOTE-MCCEH82C-8VM0TV
✅ Quote created: QUOTE-MCCEH82C-8VM0TV for company 1
 POST /api/quotes 200 in 200ms
🔍 Fetching quote by ID: QUOTE-MCCEH82C-8VM0TV
dbGet called - using mock data for deployment
🔍 Searching for quote ID: QUOTE-MCCEH82C-8VM0TV
✅ Found local quote: It's for Cici
📊 Raw quote from database: {
  id: 1750882910484,
  quote_id: 'QUOTE-MCCEH82C-8VM0TV',
  customer_name: "It's for Cici",
  address: '9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting doors, or trim or windows. No primer. labour is included in the cost per square foot at $1.50.',
  quote_amount: 6750,
  status: 'pending',
  project_type: 'interior',
  created_at: '2025-06-25T20:21:50.484Z',
  updated_at: '2025-06-25T20:21:50.484Z',
  company_id: '1',
  company_name: 'Demo Company',
  quote_details: undefined
}
✅ Found quote: { id: 1750882910484, customer: "It's for Cici" }
 GET /api/quotes/QUOTE-MCCEH82C-8VM0TV 200 in 22ms
No database configured - using mock data for development
Database initialized with simplified adapter
 GET /quotes/1750882454327/preview 200 in 91ms
🔍 Fetching quote by ID: 1750882454327
dbGet called - using mock data for deployment
🔍 Searching for quote ID: 1750882454327
❌ Quote not found for ID: 1750882454327
📊 Raw quote from database: null
❌ Quote not found for ID: 1750882454327
 GET /api/quotes/1750882454327 404 in 28ms
🔍 Fetching quote by ID: 1750882454327
dbGet called - using mock data for deployment
🔍 Searching for quote ID: 1750882454327
❌ Quote not found for ID: 1750882454327
📊 Raw quote from database: null
❌ Quote not found for ID: 1750882454327
 GET /api/quotes/1750882454327 404 in 25ms
No database configured - using mock data for development
Database initialized with simplified adapter
 ✓ Compiled /_not-found in 269ms (889 modules)
 GET /icon-192x192.png 404 in 350ms
No database configured - using mock data for development
Database initialized with simplified adapter
Initializing simplified database adapter...
Starting simplified schema initialization...
✓ Schema initialization completed (using simplified adapter)
Database initialized successfully
dbAll called - using mock data for deployment
📊 Returning quotes: 1 quotes found
📊 Raw quotes from database: [
  {
    id: 999,
    quote_id: 'QUOTE-DEMO-001',
    customer_name: 'Demo Customer',
    address: '123 Test Street',
    quote_amount: 6750,
    status: 'pending',
    project_type: 'interior',
    created_at: '2025-06-24T20:22:28.642Z',
    company_id: 1,
    company_name: 'Demo Company',
    quote_details: '{"final_price":6750,"materials":{"total_material_cost":200},"labor":{"total_labor":4500},"markup_amount":2050}'
  }
]
 GET /api/quotes?company_id=1 200 in 45ms
 ✓ Compiled /api/companies/preferences in 269ms (893 modules)
No database configured - using mock data for development
Database initialized with simplified adapter
dbGet called - using mock data for deployment
 GET /api/company-quota?company_id=1 200 in 340ms
Supabase environment variables not found, adapter will be initialized later
Error fetching company preferences: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:256:19)
    at Object.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:310:63)
    at GET (webpack-internal:///(rsc)/./app/api/companies/preferences/route.ts:48:106)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/companies/preferences?companyId=1 500 in 344ms
Initializing simplified database adapter...
Starting simplified schema initialization...
✓ Schema initialization completed (using simplified adapter)
Database initialized successfully
dbAll called - using mock data for deployment
📊 Returning quotes: 1 quotes found
📊 Raw quotes from database: [
  {
    id: 999,
    quote_id: 'QUOTE-DEMO-001',
    customer_name: 'Demo Customer',
    address: '123 Test Street',
    quote_amount: 6750,
    status: 'pending',
    project_type: 'interior',
    created_at: '2025-06-24T20:22:28.945Z',
    company_id: 1,
    company_name: 'Demo Company',
    quote_details: '{"final_price":6750,"materials":{"total_material_cost":200},"labor":{"total_labor":4500},"markup_amount":2050}'
  }
]
 GET /api/quotes?company_id=1 200 in 302ms
 GET /icon-192x192.png 404 in 295ms
dbGet called - using mock data for deployment
 GET /api/company-quota?company_id=1 200 in 49ms
 ✓ Compiled /api/paint-products in 114ms (506 modules)
Supabase environment variables not found, adapter will be initialized later
Error fetching company preferences: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:256:19)
    at Object.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:310:63)
    at GET (webpack-internal:///(rsc)/./app/api/companies/preferences/route.ts:48:106)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/companies/preferences?companyId=1 500 in 251ms
Error fetching paint products: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:166:19)
    at Object.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:304:58)
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/route.ts:45:103)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products?companyId=1 500 in 264ms
Error fetching paint products: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:166:19)
    at Object.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:304:58)
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/route.ts:45:103)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products?companyId=1 500 in 20ms
 ✓ Compiled /api/paint-products/brands in 313ms (899 modules)
Supabase environment variables not found, adapter will be initialized later
Error fetching paint products: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:166:19)
    at Object.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:304:58)
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/route.ts:45:103)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
Error fetching company preferences: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:256:19)
    at Object.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:310:63)
    at GET (webpack-internal:///(rsc)/./app/api/companies/preferences/route.ts:48:106)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products?companyId=1 500 in 357ms
 GET /api/companies/preferences?companyId=1 500 in 357ms
No database configured - using mock data for development
Database initialized with simplified adapter
 GET /api/companies/settings?companyId=1 200 in 385ms
dbAll called - using mock data for deployment
Error fetching paint products by brand: TypeError: products.forEach is not a function
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/brands/route.ts:40:18)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products/brands?companyId=1 500 in 389ms
 GET /icon-192x192.png 404 in 333ms
 ✓ Compiled /api/unified-quote in 123ms (517 modules)
💭 Conversation State: undefined
🗣️ User Input: It’s for Cici at 9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.
🔍 PARSING INPUT: It’s for Cici at 9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.
👤 Customer Info: {
  customer_name: 'It’s for Cici',
  address: '9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.'
}
🏠 Project Type: interior
📏 Dimensions: { wall_linear_feet: 500, ceiling_height: 9 }
💰 Markup Percentage: 0
🎨 Paint Info: {
  brand: undefined,
  product: ' Eggshell',
  cost_per_gallon: 50,
  spread_rate: 350
}
👷 Labor Rate: 1.5
🏗️ Surfaces: {
  walls: true,
  ceilings: false,
  trim: false,
  doors: false,
  windows: false
}
📋 Special Requests: [ 'No primer required' ]
🏗️ Final Dimensions: {
  wall_linear_feet: 500,
  ceiling_height: 9,
  ceiling_area: 0,
  number_of_doors: 0,
  number_of_windows: 0,
  floor_area: undefined
}
🎨 Selected Products: {
  primer: { spread_rate: 400, cost: 0 },
  wall_paint: { spread_rate: 350, cost_per_gallon: 50 },
  ceiling_paint: { spread_rate: 350, cost_per_gallon: 0 },
  trim_paint: {
    doors_per_gallon: 4.5,
    windows_per_gallon: 2.5,
    cost_per_gallon: 0
  }
}
🔧 Labor Included? true
🔧 Parsed Labor Rate: 1.5
🧮 Wall Sqft: 4500
🧮 Total Cost (labor included): 6750
📊 Labor-Included Quote Result: {
  project_info: {
    wall_linear_feet: 500,
    ceiling_height: 9,
    ceiling_area: 0,
    number_of_doors: 0,
    number_of_windows: 0,
    floor_area: undefined
  },
  materials: {
    total_material_cost: 0,
    walls: { cost: 0, sqft_needed: 4500, gallons_needed: 0 },
    ceilings: { cost: 0, sqft_needed: 0, gallons_needed: 0 },
    trim_doors_windows: { cost: 0, doors_count: 0, windows_count: 0, gallons_needed: 0 },
    primer: { cost: 0, sqft_needed: 0, gallons_needed: 0 }
  },
  labor: {
    total_labor: 0,
    wall_labor: 0,
    ceiling_labor: 0,
    door_labor: 0,
    window_labor: 0,
    primer_labor: 0
  },
  overhead: 0,
  total_cost: 6750,
  markup_percentage: 0,
  markup_amount: 0,
  final_price: 6750,
  profit_margin: 0,
  breakdown_summary: 'All-inclusive rate: $1.5/sqft × 4500 sqft = $6,750'
}
💾 Saved quote to conversation state, awaiting confirmation
 POST /api/unified-quote 200 in 188ms
💭 Conversation State: {
  stage: 'awaiting_confirmation',
  timestamp: 1750882958990,
  lastQuote: {
    project_info: {
      wall_linear_feet: 500,
      ceiling_height: 9,
      ceiling_area: 0,
      number_of_doors: 0,
      number_of_windows: 0,
      floor_area: undefined
    },
    materials: {
      total_material_cost: 0,
      walls: [Object],
      ceilings: [Object],
      trim_doors_windows: [Object],
      primer: [Object]
    },
    labor: {
      total_labor: 0,
      wall_labor: 0,
      ceiling_labor: 0,
      door_labor: 0,
      window_labor: 0,
      primer_labor: 0
    },
    overhead: 0,
    total_cost: 6750,
    markup_percentage: 0,
    markup_amount: 0,
    final_price: 6750,
    profit_margin: 0,
    breakdown_summary: 'All-inclusive rate: $1.5/sqft × 4500 sqft = $6,750'
  },
  lastQuoteSummary: "Perfect! Here's your quote for It’s for Cici at 9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.:\n" +
    '\n' +
    '**Project Details:**\n' +
    '• 500 linear feet of interior walls\n' +
    '• 9 foot ceiling height  \n' +
    '• Quality paint  Eggshell at $50/gallon\n' +
    '• NOT including ceilings\n' +
    '• NOT including doors and trim\n' +
    '• Labor included in per-sqft rate\n' +
    '\n' +
    '**All-Inclusive Quote:**\n' +
    '• Wall Area: 4,500 sqft\n' +
    '• Rate: $1.5/sqft (materials + labor included)\n' +
    '• Total Project Cost: $6,750\n' +
    '\n' +
    '\n' +
    'Ready to save this quote?',
  customerInfo: {
    customer_name: 'It’s for Cici',
    address: '9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.'
  }
}
🗣️ User Input: yes
✅ User confirmed quote saving
💾 Saving quote to database: { customer: 'It’s for Cici', amount: 6750, company_id: 1 }
📝 Created quote locally: { id: 1750882962867, customer: 'It’s for Cici', amount: 6750 }
✅ Quote saved successfully with ID: 1750882962867
 POST /api/unified-quote 200 in 57ms
No database configured - using mock data for development
Database initialized with simplified adapter
🔍 Fetching quote by ID: 1750882962867
dbGet called - using mock data for deployment
🔍 Searching for quote ID: 1750882962867
✅ Found local quote: It’s for Cici
📊 Raw quote from database: {
  id: 1750882962867,
  quote_id: 'QUOTE-1750882962867',
  customer_name: 'It’s for Cici',
  address: '9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.',
  quote_amount: 6750,
  status: 'pending',
  project_type: 'interior',
  created_at: '2025-06-25T20:22:42.867Z',
  updated_at: '2025-06-25T20:22:42.867Z',
  company_id: 1,
  company_name: 'Demo Company',
  quote_details: '{"project_info":{"wall_linear_feet":500,"ceiling_height":9,"ceiling_area":0,"number_of_doors":0,"number_of_windows":0},"materials":{"total_material_cost":0,"walls":{"cost":0,"sqft_needed":4500,"gallons_needed":0},"ceilings":{"cost":0,"sqft_needed":0,"gallons_needed":0},"trim_doors_windows":{"cost":0,"doors_count":0,"windows_count":0,"gallons_needed":0},"primer":{"cost":0,"sqft_needed":0,"gallons_needed":0}},"labor":{"total_labor":0,"wall_labor":0,"ceiling_labor":0,"door_labor":0,"window_labor":0,"primer_labor":0},"overhead":0,"total_cost":6750,"markup_percentage":0,"markup_amount":0,"final_price":6750,"profit_margin":0,"breakdown_summary":"All-inclusive rate: $1.5/sqft × 4500 sqft = $6,750"}'
}
✅ Found quote: { id: 1750882962867, customer: 'It’s for Cici' }
 GET /api/quotes/1750882962867 200 in 27ms
🔍 Fetching quote by ID: 1750882962867
dbGet called - using mock data for deployment
🔍 Searching for quote ID: 1750882962867
✅ Found local quote: It’s for Cici
📊 Raw quote from database: {
  id: 1750882962867,
  quote_id: 'QUOTE-1750882962867',
  customer_name: 'It’s for Cici',
  address: '9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.',
  quote_amount: 6750,
  status: 'pending',
  project_type: 'interior',
  created_at: '2025-06-25T20:22:42.867Z',
  updated_at: '2025-06-25T20:22:42.867Z',
  company_id: 1,
  company_name: 'Demo Company',
  quote_details: '{"project_info":{"wall_linear_feet":500,"ceiling_height":9,"ceiling_area":0,"number_of_doors":0,"number_of_windows":0},"materials":{"total_material_cost":0,"walls":{"cost":0,"sqft_needed":4500,"gallons_needed":0},"ceilings":{"cost":0,"sqft_needed":0,"gallons_needed":0},"trim_doors_windows":{"cost":0,"doors_count":0,"windows_count":0,"gallons_needed":0},"primer":{"cost":0,"sqft_needed":0,"gallons_needed":0}},"labor":{"total_labor":0,"wall_labor":0,"ceiling_labor":0,"door_labor":0,"window_labor":0,"primer_labor":0},"overhead":0,"total_cost":6750,"markup_percentage":0,"markup_amount":0,"final_price":6750,"profit_margin":0,"breakdown_summary":"All-inclusive rate: $1.5/sqft × 4500 sqft = $6,750"}',
  breakdown: { labor: NaN, materials: NaN, prepWork: NaN, markup: NaN },
  total_cost: 6750,
  sqft: 0,
  paint_quality: 'premium',
  timeline: 'standard'
}
✅ Found quote: { id: 1750882962867, customer: 'It’s for Cici' }
 GET /api/quotes/1750882962867 200 in 27ms
 GET /icon-192x192.png 404 in 27ms
No database configured - using mock data for development
Database initialized with simplified adapter
 ✓ Compiled in 177ms (359 modules)
 ✓ Compiled in 376ms (401 modules)
 ✓ Compiled in 191ms (401 modules)
 ✓ Compiled in 175ms (401 modules)
 ✓ Compiled in 188ms (401 modules)
 ✓ Compiled in 540ms (760 modules)
 GET /quotes/1750882962867/preview 200 in 91ms
 GET /quotes/1750882962867/preview 200 in 75ms
 ✓ Compiled /api/quotes/[id] in 243ms (492 modules)
No database configured - using mock data for development
Database initialized with simplified adapter
🔍 Fetching quote by ID: 1750882962867
dbGet called - using mock data for deployment
🔍 Searching for quote ID: 1750882962867
❌ Quote not found for ID: 1750882962867
📊 Raw quote from database: null
❌ Quote not found for ID: 1750882962867
 GET /quotes/1750882962867/preview 200 in 161ms
 GET /quotes/1750882962867/preview 200 in 40ms
No database configured - using mock data for development
Database initialized with simplified adapter
🔍 Fetching quote by ID: 1750882962867
dbGet called - using mock data for deployment
🔍 Searching for quote ID: 1750882962867
❌ Quote not found for ID: 1750882962867
📊 Raw quote from database: null
❌ Quote not found for ID: 1750882962867
 GET /api/quotes/1750882962867 404 in 29ms
🔍 Fetching quote by ID: 1750882962867
dbGet called - using mock data for deployment
🔍 Searching for quote ID: 1750882962867
❌ Quote not found for ID: 1750882962867
📊 Raw quote from database: null
❌ Quote not found for ID: 1750882962867
 GET /api/quotes/1750882962867 404 in 29ms
No database configured - using mock data for development
Database initialized with simplified adapter
 ✓ Compiled /_not-found in 245ms (882 modules)
 GET /icon-192x192.png 404 in 298ms
 ✓ Compiled /api/company-quota in 238ms (500 modules)
 ✓ Compiled in 0ms (504 modules)
 ✓ Compiled in 0ms (504 modules)
 ✓ Compiled in 0ms (504 modules)
No database configured - using mock data for development
Database initialized with simplified adapter
Initializing simplified database adapter...
Starting simplified schema initialization...
✓ Schema initialization completed (using simplified adapter)
Database initialized successfully
dbAll called - using mock data for deployment
📊 Returning quotes: 1 quotes found
📊 Raw quotes from database: [
  {
    id: 999,
    quote_id: 'QUOTE-DEMO-001',
    customer_name: 'Demo Customer',
    address: '123 Test Street',
    quote_amount: 6750,
    status: 'pending',
    project_type: 'interior',
    created_at: '2025-06-24T20:34:51.613Z',
    company_id: 1,
    company_name: 'Demo Company',
    quote_details: '{"final_price":6750,"materials":{"total_material_cost":200},"labor":{"total_labor":4500},"markup_amount":2050}'
  }
]
 GET /api/quotes?company_id=1 200 in 620ms
 ✓ Compiled in 0ms (504 modules)
No database configured - using mock data for development
Database initialized with simplified adapter
Supabase environment variables not found, adapter will be initialized later
dbGet called - using mock data for deployment
Error fetching company preferences: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:256:19)
    at Object.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:310:63)
    at GET (webpack-internal:///(rsc)/./app/api/companies/preferences/route.ts:48:106)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/company-quota?company_id=1 200 in 746ms
 GET /api/companies/preferences?companyId=1 500 in 745ms
 ✓ Compiled /api/paint-products in 244ms (895 modules)
Supabase environment variables not found, adapter will be initialized later
Error fetching company preferences: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:256:19)
    at Object.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:310:63)
    at GET (webpack-internal:///(rsc)/./app/api/companies/preferences/route.ts:48:106)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/companies/preferences?companyId=1 500 in 360ms
No database configured - using mock data for development
Database initialized with simplified adapter
dbGet called - using mock data for deployment
 GET /api/company-quota?company_id=1 200 in 365ms
Error fetching paint products: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:166:19)
    at Object.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:304:58)
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/route.ts:45:103)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products?companyId=1 500 in 371ms
Initializing simplified database adapter...
Starting simplified schema initialization...
✓ Schema initialization completed (using simplified adapter)
Database initialized successfully
dbAll called - using mock data for deployment
📊 Returning quotes: 1 quotes found
📊 Raw quotes from database: [
  {
    id: 999,
    quote_id: 'QUOTE-DEMO-001',
    customer_name: 'Demo Customer',
    address: '123 Test Street',
    quote_amount: 6750,
    status: 'pending',
    project_type: 'interior',
    created_at: '2025-06-24T20:34:52.132Z',
    company_id: 1,
    company_name: 'Demo Company',
    quote_details: '{"final_price":6750,"materials":{"total_material_cost":200},"labor":{"total_labor":4500},"markup_amount":2050}'
  }
]
 GET /api/quotes?company_id=1 200 in 509ms
 GET /icon-192x192.png 404 in 330ms
Error fetching paint products: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:166:19)
    at Object.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:304:58)
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/route.ts:45:103)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products?companyId=1 500 in 24ms
 ✓ Compiled /api/paint-products/brands in 305ms (899 modules)
Supabase environment variables not found, adapter will be initialized later
Error fetching paint products: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:166:19)
    at Object.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:304:58)
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/route.ts:45:103)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
Error fetching company preferences: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:256:19)
    at Object.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:310:63)
    at GET (webpack-internal:///(rsc)/./app/api/companies/preferences/route.ts:48:106)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products?companyId=1 500 in 338ms
 GET /api/companies/preferences?companyId=1 500 in 346ms
No database configured - using mock data for development
Database initialized with simplified adapter
 GET /api/companies/settings?companyId=1 200 in 383ms
dbAll called - using mock data for deployment
Error fetching paint products by brand: TypeError: products.forEach is not a function
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/brands/route.ts:40:18)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products/brands?companyId=1 500 in 391ms
 GET /icon-192x192.png 404 in 314ms
 ✓ Compiled /api/unified-quote in 129ms (517 modules)
💭 Conversation State: undefined
🗣️ User Input: It’s for Cici at 9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.
🔍 PARSING INPUT: It’s for Cici at 9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.
👤 Customer Info: {
  customer_name: 'It’s for Cici',
  address: '9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.'
}
🏠 Project Type: interior
📏 Dimensions: { wall_linear_feet: 500, ceiling_height: 9 }
💰 Markup Percentage: 0
🎨 Paint Info: {
  brand: undefined,
  product: ' Eggshell',
  cost_per_gallon: 50,
  spread_rate: 350
}
👷 Labor Rate: 1.5
🏗️ Surfaces: {
  walls: true,
  ceilings: false,
  trim: false,
  doors: false,
  windows: false
}
📋 Special Requests: [ 'No primer required' ]
🏗️ Final Dimensions: {
  wall_linear_feet: 500,
  ceiling_height: 9,
  ceiling_area: 0,
  number_of_doors: 0,
  number_of_windows: 0,
  floor_area: undefined
}
🎨 Selected Products: {
  primer: { spread_rate: 400, cost: 0 },
  wall_paint: { spread_rate: 350, cost_per_gallon: 50 },
  ceiling_paint: { spread_rate: 350, cost_per_gallon: 0 },
  trim_paint: {
    doors_per_gallon: 4.5,
    windows_per_gallon: 2.5,
    cost_per_gallon: 0
  }
}
🔧 Labor Included? true
🔧 Parsed Labor Rate: 1.5
🧮 Wall Sqft: 4500
🧮 Total Cost (labor included): 6750
📊 Labor-Included Quote Result: {
  project_info: {
    wall_linear_feet: 500,
    ceiling_height: 9,
    ceiling_area: 0,
    number_of_doors: 0,
    number_of_windows: 0,
    floor_area: undefined
  },
  materials: {
    total_material_cost: 0,
    walls: { cost: 0, sqft_needed: 4500, gallons_needed: 0 },
    ceilings: { cost: 0, sqft_needed: 0, gallons_needed: 0 },
    trim_doors_windows: { cost: 0, doors_count: 0, windows_count: 0, gallons_needed: 0 },
    primer: { cost: 0, sqft_needed: 0, gallons_needed: 0 }
  },
  labor: {
    total_labor: 0,
    wall_labor: 0,
    ceiling_labor: 0,
    door_labor: 0,
    window_labor: 0,
    primer_labor: 0
  },
  overhead: 0,
  total_cost: 6750,
  markup_percentage: 0,
  markup_amount: 0,
  final_price: 6750,
  profit_margin: 0,
  breakdown_summary: 'All-inclusive rate: $1.5/sqft × 4500 sqft = $6,750'
}
💾 Saved quote to conversation state, awaiting confirmation
 POST /api/unified-quote 200 in 195ms
💭 Conversation State: {
  stage: 'awaiting_confirmation',
  timestamp: 1750883703671,
  lastQuote: {
    project_info: {
      wall_linear_feet: 500,
      ceiling_height: 9,
      ceiling_area: 0,
      number_of_doors: 0,
      number_of_windows: 0,
      floor_area: undefined
    },
    materials: {
      total_material_cost: 0,
      walls: [Object],
      ceilings: [Object],
      trim_doors_windows: [Object],
      primer: [Object]
    },
    labor: {
      total_labor: 0,
      wall_labor: 0,
      ceiling_labor: 0,
      door_labor: 0,
      window_labor: 0,
      primer_labor: 0
    },
    overhead: 0,
    total_cost: 6750,
    markup_percentage: 0,
    markup_amount: 0,
    final_price: 6750,
    profit_margin: 0,
    breakdown_summary: 'All-inclusive rate: $1.5/sqft × 4500 sqft = $6,750'
  },
  lastQuoteSummary: "Perfect! Here's your quote for It’s for Cici at 9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.:\n" +
    '\n' +
    '**Project Details:**\n' +
    '• 500 linear feet of interior walls\n' +
    '• 9 foot ceiling height  \n' +
    '• Quality paint  Eggshell at $50/gallon\n' +
    '• NOT including ceilings\n' +
    '• NOT including doors and trim\n' +
    '• Labor included in per-sqft rate\n' +
    '\n' +
    '**All-Inclusive Quote:**\n' +
    '• Wall Area: 4,500 sqft\n' +
    '• Rate: $1.5/sqft (materials + labor included)\n' +
    '• Total Project Cost: $6,750\n' +
    '\n' +
    '\n' +
    'Ready to save this quote?',
  customerInfo: {
    customer_name: 'It’s for Cici',
    address: '9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.'
  }
}
🗣️ User Input: yes
✅ User confirmed quote saving
💾 Saving quote to database: { customer: 'It’s for Cici', amount: 6750, company_id: 1 }
📝 Created quote locally: { id: 1750883708012, customer: 'It’s for Cici', amount: 6750 }
✅ Quote saved successfully with ID: 1750883708012
 POST /api/unified-quote 200 in 53ms
No database configured - using mock data for development
Database initialized with simplified adapter
🔍 Fetching quote by ID: 1750883708012
dbGet called - using mock data for deployment
🔍 Searching for quote ID: 1750883708012
✅ Found local quote: It’s for Cici
📊 Raw quote from database: {
  id: 1750883708012,
  quote_id: 'QUOTE-1750883708012',
  customer_name: 'It’s for Cici',
  address: '9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.',
  quote_amount: 6750,
  status: 'pending',
  project_type: 'interior',
  created_at: '2025-06-25T20:35:08.012Z',
  updated_at: '2025-06-25T20:35:08.012Z',
  company_id: 1,
  company_name: 'Demo Company',
  quote_details: '{"project_info":{"wall_linear_feet":500,"ceiling_height":9,"ceiling_area":0,"number_of_doors":0,"number_of_windows":0},"materials":{"total_material_cost":0,"walls":{"cost":0,"sqft_needed":4500,"gallons_needed":0},"ceilings":{"cost":0,"sqft_needed":0,"gallons_needed":0},"trim_doors_windows":{"cost":0,"doors_count":0,"windows_count":0,"gallons_needed":0},"primer":{"cost":0,"sqft_needed":0,"gallons_needed":0}},"labor":{"total_labor":0,"wall_labor":0,"ceiling_labor":0,"door_labor":0,"window_labor":0,"primer_labor":0},"overhead":0,"total_cost":6750,"markup_percentage":0,"markup_amount":0,"final_price":6750,"profit_margin":0,"breakdown_summary":"All-inclusive rate: $1.5/sqft × 4500 sqft = $6,750"}'
}
✅ Found quote: { id: 1750883708012, customer: 'It’s for Cici' }
 GET /api/quotes/1750883708012 200 in 30ms
🔍 Fetching quote by ID: 1750883708012
dbGet called - using mock data for deployment
🔍 Searching for quote ID: 1750883708012
✅ Found local quote: It’s for Cici
📊 Raw quote from database: {
  id: 1750883708012,
  quote_id: 'QUOTE-1750883708012',
  customer_name: 'It’s for Cici',
  address: '9090 Hillside Drive. We are not painting the ceilings. The project is a 500 linear feet of interior painting. $50 a gallon bucket eggshell shirwin williams. spread rate is 350 square feet per gallon. Ceilings are 9 feet tall. We are not painting  doors, or trim or windows.  No primer. labour is included in the cost per square foot at $1.50.',
  quote_amount: 6750,
  status: 'pending',
  project_type: 'interior',
  created_at: '2025-06-25T20:35:08.012Z',
  updated_at: '2025-06-25T20:35:08.012Z',
  company_id: 1,
  company_name: 'Demo Company',
  quote_details: '{"project_info":{"wall_linear_feet":500,"ceiling_height":9,"ceiling_area":0,"number_of_doors":0,"number_of_windows":0},"materials":{"total_material_cost":0,"walls":{"cost":0,"sqft_needed":4500,"gallons_needed":0},"ceilings":{"cost":0,"sqft_needed":0,"gallons_needed":0},"trim_doors_windows":{"cost":0,"doors_count":0,"windows_count":0,"gallons_needed":0},"primer":{"cost":0,"sqft_needed":0,"gallons_needed":0}},"labor":{"total_labor":0,"wall_labor":0,"ceiling_labor":0,"door_labor":0,"window_labor":0,"primer_labor":0},"overhead":0,"total_cost":6750,"markup_percentage":0,"markup_amount":0,"final_price":6750,"profit_margin":0,"breakdown_summary":"All-inclusive rate: $1.5/sqft × 4500 sqft = $6,750"}',
  breakdown: { labor: NaN, materials: NaN, prepWork: NaN, markup: NaN },
  total_cost: 6750,
  sqft: 0,
  paint_quality: 'premium',
  timeline: 'standard'
}
✅ Found quote: { id: 1750883708012, customer: 'It’s for Cici' }
 GET /api/quotes/1750883708012 200 in 28ms
 GET /icon-192x192.png 404 in 30ms
No database configured - using mock data for development
Database initialized with simplified adapter
 ✓ Compiled in 141ms (359 modules)
 ⚠ Fast Refresh had to perform a full reload. Read more: https://nextjs.org/docs/messages/fast-refresh-reload
 ✓ Compiled in 580ms (760 modules)
 GET /quotes/1750883708012/preview 200 in 142ms
 ✓ Compiled /_not-found in 279ms (882 modules)
No database configured - using mock data for development
Database initialized with simplified adapter
🔍 Fetching quote by ID: 1750883708012
dbGet called - using mock data for deployment
🔍 Searching for quote ID: 1750883708012
❌ Quote not found for ID: 1750883708012
📊 Raw quote from database: null
❌ Quote not found for ID: 1750883708012
 GET /api/quotes/1750883708012 404 in 403ms
 GET /icon-192x192.png 404 in 389ms
🔍 Fetching quote by ID: 1750883708012
dbGet called - using mock data for deployment
🔍 Searching for quote ID: 1750883708012
❌ Quote not found for ID: 1750883708012
📊 Raw quote from database: null
❌ Quote not found for ID: 1750883708012
 GET /api/quotes/1750883708012 404 in 42ms
 GET /icon-192x192.png 404 in 15ms
No database configured - using mock data for development
Database initialized with simplified adapter
 ✓ Compiled in 330ms (401 modules)
 ✓ Compiled in 191ms (401 modules)
 ✓ Compiled in 177ms (401 modules)
 ✓ Compiled in 163ms (401 modules)
 ✓ Compiled in 331ms (401 modules)
 ✓ Compiled in 192ms (401 modules)
 ✓ Compiled in 254ms (401 modules)
 GET /quotes/1750883708012/preview 200 in 66ms
🔍 Fetching quote by ID: 1750883708012
dbGet called - using mock data for deployment
🔍 Searching for quote ID: 1750883708012
❌ Quote not found for ID: 1750883708012
📊 Raw quote from database: null
❌ Quote not found for ID: 1750883708012
 GET /api/quotes/1750883708012 404 in 30ms
🔍 Fetching quote by ID: 1750883708012
dbGet called - using mock data for deployment
🔍 Searching for quote ID: 1750883708012
❌ Quote not found for ID: 1750883708012
📊 Raw quote from database: null
❌ Quote not found for ID: 1750883708012
 GET /api/quotes/1750883708012 404 in 27ms
No database configured - using mock data for development
Database initialized with simplified adapter
 ✓ Compiled /_not-found in 236ms (882 modules)
 GET /icon-192x192.png 404 in 332ms
 ✓ Compiled /api/companies/preferences in 294ms (500 modules)
 ✓ Compiled in 1ms (504 modules)
 ✓ Compiled in 0ms (504 modules)
 ✓ Compiled in 0ms (504 modules)
No database configured - using mock data for development
Database initialized with simplified adapter
Initializing simplified database adapter...
Starting simplified schema initialization...
✓ Schema initialization completed (using simplified adapter)
Database initialized successfully
dbAll called - using mock data for deployment
📊 Returning quotes: 1 quotes found
Error fetching quotes: ReferenceError: Cannot access 'quotesArray' before initialization
    at GET (webpack-internal:///(rsc)/./app/api/quotes/route.ts:255:47)
    at async /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57228
    at async eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46851)
    at async eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58760)
    at async doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:28)
 GET /api/quotes?company_id=1 500 in 668ms
 ✓ Compiled in 0ms (504 modules)
No database configured - using mock data for development
Database initialized with simplified adapter
dbGet called - using mock data for deployment
Supabase environment variables not found, adapter will be initialized later
Error fetching company preferences: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:256:19)
    at Object.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:310:63)
    at GET (webpack-internal:///(rsc)/./app/api/companies/preferences/route.ts:48:106)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/company-quota?company_id=1 200 in 808ms
 GET /api/companies/preferences?companyId=1 500 in 807ms
 ✓ Compiled /api/paint-products in 233ms (895 modules)
No database configured - using mock data for development
Database initialized with simplified adapter
Initializing simplified database adapter...
Starting simplified schema initialization...
✓ Schema initialization completed (using simplified adapter)
Database initialized successfully
dbAll called - using mock data for deployment
📊 Returning quotes: 1 quotes found
Error fetching quotes: ReferenceError: Cannot access 'quotesArray' before initialization
    at GET (webpack-internal:///(rsc)/./app/api/quotes/route.ts:255:47)
    at async /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57228
    at async eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46851)
    at async eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58760)
    at async doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:42)
    at async cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:28)
 GET /api/quotes?company_id=1 500 in 519ms
dbGet called - using mock data for deployment
 GET /api/company-quota?company_id=1 200 in 381ms
Supabase environment variables not found, adapter will be initialized later
Error fetching company preferences: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:256:19)
    at Object.getCompanyPreferences (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:310:63)
    at GET (webpack-internal:///(rsc)/./app/api/companies/preferences/route.ts:48:106)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/companies/preferences?companyId=1 500 in 383ms
Error fetching paint products: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:166:19)
    at Object.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:304:58)
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/route.ts:45:103)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products?companyId=1 500 in 387ms
 GET /icon-192x192.png 404 in 338ms
Error fetching paint products: Error: Supabase client not initialized
    at SupabaseDatabaseAdapter.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:166:19)
    at Object.getPaintProducts (webpack-internal:///(rsc)/./lib/database/supabase-adapter.ts:304:58)
    at GET (webpack-internal:///(rsc)/./app/api/paint-products/route.ts:45:103)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57234
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/sepg/painttest2/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/sepg/painttest2/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:48896
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:40958)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47472
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at Object.wrap (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:38293)
    at /Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:47434
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at eT.execute (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46881)
    at eT.handle (/Users/sepg/painttest2/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58771)
    at doRender (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1366:60)
    at cacheEntry.responseCache.get.routeKind (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1588:34)
    at ResponseCache.get (/Users/sepg/painttest2/node_modules/next/dist/server/response-cache/index.js:49:26)
    at DevServer.renderToResponseWithComponentsImpl (/Users/sepg/painttest2/node_modules/next/dist/server/base-server.js:1496:53)
 GET /api/paint-products?companyId=1 500 in 30ms
